document.addEventListener("DOMContentLoaded",(function(){var e,t,n,o,i,l,a=document.querySelector(".upload-view-toggle"),r=document.querySelector(".wrap"),c=document.body,u=document.querySelectorAll(".thickbox"),d=window.innerWidth,s=window.innerHeight,f=document.createElement("dialog");function p(){var e;if((n=[...t.querySelectorAll('a[href], button, input, textarea, select, [tabindex]:not( [tabindex="-1"] )')]).forEach((function(e){var t,o,i;m(e)||(t=n.indexOf(e),n.splice(t,1)),o=e,i=".hidden",[...document.querySelectorAll(i)].some((function(e){e!==o&&e.contains(o)}))&&(t=n.indexOf(e),n.splice(t,1))})),(o=document.getElementById("dialog-close-button")).addEventListener("keydown",(function(e){y(e)})),"plugin_install_from_iframe"===n.at(-1).id)i=n.at(-1);else for(e=n.length,i=n[e-2];i.closest(".section")&&!m(i.closest(".section"));)i=n[(e-=1)-1];i.addEventListener("keydown",(function(e){y(e)}))}function m(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function y(e){"Tab"===e.key&&(i!==e.target||e.shiftKey?o===e.target&&e.shiftKey&&(e.preventDefault(),i.focus()):(e.preventDefault(),o.focus()))}f.className="plugin-details-modal",f.style.padding="0",c.append(f),u.forEach((function(n){n.addEventListener("click",(function(i){var a,r=n.href||n.alt,c=n.dataset.title?wp.i18n.sprintf(wp.i18n.__("Plugin: %s"),n.dataset.title):wp.i18n.__("Plugin details");i.preventDefault(),i.stopPropagation(),a=r.split("TB_"),f.classList.add("modal-loading"),f.showModal(),f.insertAdjacentHTML("beforeend",'<button type="button" id="dialog-close-button" autofocus><span class="screen-reader-text">'+pluginL10n.close+'</span></button><iframe frameborder="0" hspace="0" allowtransparency="true" src="'+a[0]+'" id="TB_iframeContent" name="TB_iframeContent'+Math.round(1e3*Math.random())+'" style="width: '+9*d/10+"px;max-width:800px;height: "+9*s/10+'px;" title="'+c+'">'+pluginL10n.noiframes+"</iframe>"),(e=f.querySelector("iframe"))&&e.addEventListener("load",(function(){f.classList.remove("modal-loading"),t=e.contentWindow.document.querySelector("body"),p(),o.focus(),document.querySelectorAll("#plugin-information-tabs a").forEach((function(e){e.addEventListener("click",(function(){p()}))})),t.addEventListener("click",(function(){p()}))})),(l=f.querySelector("#dialog-close-button")).addEventListener("click",(function(){f.close(),null!=e&&e.remove(),l.remove()})),f.addEventListener("keydown",(function(t){"Escape"===t.key?(null!=e&&e.remove(),l.remove()):"Enter"===t.key&&"dialog-close-button"===t.target.id&&(t.preventDefault(),f.close(),null!=e&&e.remove(),l.remove())}))}))})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(null!=e&&e.remove(),l.remove())})),null!=r&&a&&!r.className.includes("plugin-install-tab-upload")&&(a.setAttribute("role","button"),a.setAttribute("aria-expanded","false"),a.addEventListener("click",(function(e){e.preventDefault(),c.classList.toggle("show-upload-view"),a.setAttribute("aria-expanded",c.className.includes("show-upload-view"))}))),document.querySelectorAll("#plugin-information-tabs a").forEach((function(e){e.addEventListener("click",(function(t){var n=e.getAttribute("name");t.preventDefault(),document.querySelector("#plugin-information-tabs a.current").classList.remove("current"),e.classList.add("current"),"description"!==n&&window.innerWidth<772?document.querySelector("#plugin-information-content .fyi").style.display="none":document.querySelector("#plugin-information-content .fyi").style.display="block",document.querySelectorAll("#section-holder div.section").forEach((function(e){e.style.display="none"})),document.querySelector("#section-"+n).style.display="block"}))})),document.querySelectorAll(".plugin-categories-filter a").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.dataset.pluginTag;document.querySelector("#typeselector").value="tag",document.querySelector(".plugin-install-php .wp-filter-search").value=n,document.querySelector(".plugin-install-php .wp-filter-search").dispatchEvent(new Event("input"))}))}))}));