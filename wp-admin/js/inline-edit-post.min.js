window.wp=window.wp||{},function(e,t){function i(e){var t,i,n,s=e.parentNode,a=-1;function r(){var t,i=e.value;for(t=e.selectionStart-1;t>=0&&!/\s/.test(i[t]);)t--;return t}function o(t){var i=e.value,n=e.selectionStart,s=r(),a=i.substring(0,s+1)+t+i.substring(n);e.value=a,e.focus(),e.selectionStart=e.selectionEnd=s+1+t.length}function l(e,t,i){return Math.min(Math.max(e,t),i)}(t=document.createElement("div")).textContent=e.value,t.hidden=!0,s.prepend(t),(i=document.createElement("div")).classList.add("container__suggestions"),s.contains(i)||s.appendChild(i),n=document.getElementById("tags-list").value.split(", "),e.addEventListener("scroll",(function(){t.scrollTop=e.scrollTop})),e.addEventListener("input",(function(){var s,a,l,d,c,p,u,h,v=e.value,f=e.selectionStart,m=r();""!==(s=v.substring(m+1,f))&&0!==(a=n.filter((function(e){return e.toLowerCase().indexOf(s.toLowerCase())>-1}))).length?(u=v.substring(0,f),h=v.substring(f),l=document.createTextNode(u),d=document.createTextNode(h),(c=document.createElement("span")).innerHTML="&nbsp;",t.innerHTML="",t.append(l,c,d),p=c.getBoundingClientRect(),i.style.top=`${p.top+p.height}px`,i.style.left=`${p.left}px`,i.innerHTML="",a.forEach((function(e){var t=document.createElement("div");t.innerText=e,t.classList.add("container__suggestion"),t.addEventListener("click",(function(){o(this.innerText),i.style.display="none"})),i.appendChild(t)})),i.style.display="block"):i.style.display="none"})),e.addEventListener("keydown",(function(e){var t,n;if(["ArrowDown","ArrowUp","Enter","Escape"].includes(e.key)&&0!==(n=(t=i.querySelectorAll(".container__suggestion")).length)&&"none"!==i.style.display)switch(e.preventDefault(),e.key){case"ArrowDown":t[l(0,a,n-1)].classList.remove("container__suggestion--focused"),t[a=l(0,a+1,n-1)].classList.add("container__suggestion--focused");break;case"ArrowUp":t[l(0,a,n-1)].classList.remove("container__suggestion--focused"),t[a=l(0,a-1,n-1)].classList.add("container__suggestion--focused");break;case"Enter":e.stopPropagation(),o(t[a].innerText),i.style.display="none";break;case"Escape":i.style.display="none"}}))}window.inlineEditPost={init:function(){var t=this,i=e("#inline-edit"),n=e("#bulk-edit");t.type=e("table.widefat").hasClass("pages")?"page":"post",t.what="#post-",i.on("keyup",(function(e){if(27===e.which)return inlineEditPost.revert()})),n.on("keyup",(function(e){if(27===e.which)return inlineEditPost.revert()})),e(".cancel",i).on("click",(function(){return inlineEditPost.revert()})),e(".save",i).on("click",(function(){return inlineEditPost.save(this)})),e("td",i).on("keydown",(function(t){if(13===t.which&&!e(t.target).hasClass("cancel"))return inlineEditPost.save(this)})),e(".cancel",n).on("click",(function(){return inlineEditPost.revert()})),e('#inline-edit .inline-edit-private input[value="private"]').on("click",(function(){var t=e("input.inline-edit-password-input");e(this).prop("checked")?t.val("").prop("disabled",!0):t.prop("disabled",!1)})),e("#the-list").on("click",".editinline",(function(){e(this).attr("aria-expanded","true"),inlineEditPost.edit(this)})),e("#bulk-edit").find("fieldset:first").after(e("#inline-edit fieldset.inline-edit-categories").clone()).siblings("fieldset:last").prepend(e("#inline-edit .inline-edit-tags-wrap").clone()),e('select[name="_status"] option[value="future"]',n).remove(),e("#doaction").on("click",(function(i){var n;t.whichBulkButtonId=e(this).attr("id"),n=t.whichBulkButtonId.substr(2),"edit"===e('select[name="'+n+'"]').val()?(i.preventDefault(),t.setBulk()):e("form#posts-filter tr.inline-editor").length>0&&t.revert()}))},toggle:function(t){var i=this;"none"===e(i.what+i.getId(t)).css("display")?i.revert():i.edit(t)},setBulk:function(){var n="",s=this.type,a=!0;if(this.revert(),e("#bulk-edit td").attr("colspan",e("th:visible, td:visible",".widefat:first thead").length),e("table.widefat tbody").prepend(e("#bulk-edit")).prepend('<tr class="hidden"></tr>'),e("#bulk-edit").addClass("inline-editor").show(),e('tbody th.check-column input[type="checkbox"]').each((function(){if(e(this).prop("checked")){a=!1;var i=e(this).val(),s=e("#inline_"+i+" .post_title").html()||t.i18n.__("(no title)"),r=t.i18n.sprintf(t.i18n.__("Remove &#8220;%s&#8221; from Bulk Edit"),s);n+='<li class="ntdelitem"><button type="button" id="_'+i+'" class="button-link ntdelbutton"><span class="screen-reader-text">'+r+'</span></button><span class="ntdeltitle" aria-hidden="true">'+s+"</span></li>"}})),a)return this.revert();e("#bulk-titles").html('<ul id="bulk-titles-list" role="list">'+n+"</ul>"),e("#bulk-titles .ntdelbutton").click((function(){var i=e(this),n=i.attr("id").substr(1),s=i.parent().prev().children(".ntdelbutton"),a=i.parent().next().children(".ntdelbutton");e('table.widefat input[value="'+n+'"]').prop("checked",!1),e("#_"+n).parent().remove(),t.a11y.speak(t.i18n.__("Item removed."),"assertive"),a.length?a.focus():s.length?s.focus():(e("#bulk-titles-list").remove(),inlineEditPost.revert(),t.a11y.speak(t.i18n.__("All selected items have been removed. Select new items to use Bulk Actions.")))})),"post"===s&&i(document.querySelector("tr.inline-editor textarea[data-wp-taxonomy]")),document.querySelector("#bulk-edit .inline-edit-wrapper").setAttribute("tabindex","-1"),document.querySelector("#bulk-edit .inline-edit-wrapper").focus(),window.scrollTo({top:0,behavior:"smooth"})},edit:function(n){var s,a,r,o,l,d,c,p,u,h,v=this,f=!0;for(v.revert(),"object"==typeof n&&(n=v.getId(n)),s=["post_title","post_name","post_author","_status","jj","mm","aa","hh","mn","ss","post_password","post_format","menu_order","page_template"],"page"===v.type&&s.push("post_parent"),a=e("#inline-edit").clone(!0),e("td",a).attr("colspan",e("th:visible, td:visible",".widefat:first thead").length),e("td",a).find("#quick-edit-legend").removeAttr("id"),e("td",a).find('p[id^="quick-edit-"]').removeAttr("id"),e(v.what+n).removeClass("is-expanded").hide().after(a).after('<tr class="hidden"></tr>'),r=e("#inline_"+n),e(':input[name="post_author"] option[value="'+e(".post_author",r).text()+'"]',a).val()||e(':input[name="post_author"]',a).prepend('<option value="'+e(".post_author",r).text()+'">'+e("#post-"+n+" .author").text()+"</option>"),1===e(':input[name="post_author"] option',a).length&&e("label.inline-edit-author",a).hide(),p=0;p<s.length;p++)(u=e("."+s[p],r)).find("img").replaceWith((function(){return this.alt})),u=u.text(),e(':input[name="'+s[p]+'"]',a).val(u);if("open"===e(".comment_status",r).text()&&e('input[name="comment_status"]',a).prop("checked",!0),"open"===e(".ping_status",r).text()&&e('input[name="ping_status"]',a).prop("checked",!0),"sticky"===e(".sticky",r).text()&&e('input[name="sticky"]',a).prop("checked",!0),e(".post_category",r).each((function(){var t,i=e(this).text();i&&(t=e(this).attr("id").replace("_"+n,""),e("ul."+t+"-checklist :checkbox",a).val(i.split(",")))})),e(".tags_input",r).each((function(){var s=e(this),r=e(this).attr("id").replace("_"+n,""),o=e("textarea.tax_input_"+r,a),l=t.i18n._x(",","tag delimiter").trim();o.length&&(s.find("img").replaceWith((function(){return this.alt})),(s=s.text())&&(","!==l&&(s=s.replace(/,/g,l)),o.val(s)),i(o[0]))})),"future"!==(o=e("._status",r).text())&&e('select[name="_status"] option[value="future"]',a).remove(),h=e(".inline-edit-password-input").prop("disabled",!1),"private"===o&&(e('input[name="keep_private"]',a).prop("checked",!0),h.val("").prop("disabled",!0)),(l=e('select[name="post_parent"] option[value="'+n+'"]',a)).length>0){for(d=l[0].className.split("-")[1],c=l;f&&0!==(c=c.next("option")).length;)c[0].className.split("-")[1]<=d?f=!1:(c.remove(),c=l);l.remove()}return e(a).attr("id","edit-"+n).addClass("inline-editor").show(),e(".ptitle",a).trigger("focus"),!1},save:function(i){var n,s=e(".post_status_page").val()||"";return"object"==typeof i&&(i=this.getId(i)),e("table.widefat .spinner").addClass("is-active"),n={action:"inline-save",post_type:typenow,post_ID:i,edit_date:"true",post_status:s},n=e("#edit-"+i).find(":input").serialize()+"&"+e.param(n),e.post(ajaxurl,n,(function(n){var s=e("#edit-"+i+" .inline-edit-save .notice-error"),a=s.find(".error");e("table.widefat .spinner").removeClass("is-active"),n?-1!==n.indexOf("<tr")?(e(inlineEditPost.what+i).siblings("tr.hidden").addBack().remove(),e("#edit-"+i).before(n).remove(),e(inlineEditPost.what+i).hide().fadeIn(400,(function(){e(this).find(".editinline").attr("aria-expanded","false").trigger("focus"),t.a11y.speak(t.i18n.__("Changes saved."))}))):(n=n.replace(/<.[^<>]*?>/g,""),s.removeClass("hidden"),a.html(n),t.a11y.speak(a.text())):(s.removeClass("hidden"),a.text(t.i18n.__("Error while saving the changes.")),t.a11y.speak(t.i18n.__("Error while saving the changes.")))}),"html"),!1},revert:function(){var t=e(".widefat"),i=e(".inline-editor",t).attr("id");return i&&(e(".spinner",t).removeClass("is-active"),"bulk-edit"===i?(e("#bulk-edit",t).removeClass("inline-editor").hide().siblings(".hidden").remove(),e("#bulk-titles").empty(),e("#inlineedit").append(e("#bulk-edit")),e("#"+inlineEditPost.whichBulkButtonId).trigger("focus")):(e("#"+i).siblings("tr.hidden").addBack().remove(),i=i.substr(i.lastIndexOf("-")+1),e(this.what+i).show().find(".editinline").attr("aria-expanded","false").trigger("focus"))),!1},getId:function(t){var i=e(t).closest("tr").attr("id").split("-");return i[i.length-1]}},e((function(){inlineEditPost.init()})),e((function(){void 0!==t&&t.heartbeat&&t.heartbeat.interval(15)})).on("heartbeat-tick.wp-check-locked-posts",(function(t,i){var n=i["wp-check-locked-posts"]||{};e("#the-list tr").each((function(t,i){var s,a,r=i.id,o=e(i);n.hasOwnProperty(r)?o.hasClass("wp-locked")||(s=n[r],o.find(".column-title .locked-text").text(s.text),o.find(".check-column checkbox").prop("checked",!1),s.avatar_src&&(a=e("<img />",{"class":"avatar avatar-18 photo",width:18,height:18,alt:"",src:s.avatar_src,srcset:s.avatar_src_2x?s.avatar_src_2x+" 2x":undefined}),o.find(".column-title .locked-avatar").empty().append(a)),o.addClass("wp-locked")):o.hasClass("wp-locked")&&o.removeClass("wp-locked").find(".locked-info span").empty()}))})).on("heartbeat-send.wp-check-locked-posts",(function(t,i){var n=[];e("#the-list tr").each((function(e,t){t.id&&n.push(t.id)})),n.length&&(i["wp-check-locked-posts"]=n)}))}(jQuery,window.wp);