window.wp=window.wp||{},function(t,e){window.inlineEditPost={init:function(){var e=this,i=t("#inline-edit"),n=t("#bulk-edit");e.type=t("table.widefat").hasClass("pages")?"page":"post",e.what="#post-",i.on("keyup",(function(t){if(27===t.which)return inlineEditPost.revert()})),n.on("keyup",(function(t){if(27===t.which)return inlineEditPost.revert()})),t(".cancel",i).on("click",(function(){return inlineEditPost.revert()})),t(".save",i).on("click",(function(){return inlineEditPost.save(this)})),t("td",i).on("keydown",(function(e){if(13===e.which&&!t(e.target).hasClass("cancel"))return inlineEditPost.save(this)})),t(".cancel",n).on("click",(function(){return inlineEditPost.revert()})),t('#inline-edit .inline-edit-private input[value="private"]').on("click",(function(){var e=t("input.inline-edit-password-input");t(this).prop("checked")?e.val("").prop("disabled",!0):e.prop("disabled",!1)})),t("#the-list").on("click",".editinline",(function(){t(this).attr("aria-expanded","true"),inlineEditPost.edit(this)})),t("#bulk-edit").find("fieldset:first").after(t("#inline-edit fieldset.inline-edit-categories").clone()).siblings("fieldset:last").prepend(t("#inline-edit .inline-edit-tags-wrap").clone()),t('select[name="_status"] option[value="future"]',n).remove(),t("#doaction").on("click",(function(i){var n;e.whichBulkButtonId=t(this).attr("id"),n=e.whichBulkButtonId.substr(2),"edit"===t('select[name="'+n+'"]').val()?(i.preventDefault(),e.setBulk()):t("form#posts-filter tr.inline-editor").length>0&&e.revert()}))},toggle:function(e){var i=this;"none"===t(i.what+i.getId(e)).css("display")?i.revert():i.edit(e)},setBulk:function(){var i="",n=this.type,a=!0;if(this.revert(),t("#bulk-edit td").attr("colspan",t("th:visible, td:visible",".widefat:first thead").length),t("table.widefat tbody").prepend(t("#bulk-edit")).prepend('<tr class="hidden"></tr>'),t("#bulk-edit").addClass("inline-editor").show(),t('tbody th.check-column input[type="checkbox"]').each((function(){if(t(this).prop("checked")){a=!1;var n=t(this).val(),s=t("#inline_"+n+" .post_title").html()||e.i18n.__("(no title)"),r=e.i18n.sprintf(e.i18n.__("Remove &#8220;%s&#8221; from Bulk Edit"),s);i+='<li class="ntdelitem"><button type="button" id="_'+n+'" class="button-link ntdelbutton"><span class="screen-reader-text">'+r+'</span></button><span class="ntdeltitle" aria-hidden="true">'+s+"</span></li>"}})),a)return this.revert();t("#bulk-titles").html('<ul id="bulk-titles-list" role="list">'+i+"</ul>"),t("#bulk-titles .ntdelbutton").click((function(){var i=t(this),n=i.attr("id").substr(1),a=i.parent().prev().children(".ntdelbutton"),s=i.parent().next().children(".ntdelbutton");t('table.widefat input[value="'+n+'"]').prop("checked",!1),t("#_"+n).parent().remove(),e.a11y.speak(e.i18n.__("Item removed."),"assertive"),s.length?s.focus():a.length?a.focus():(t("#bulk-titles-list").remove(),inlineEditPost.revert(),e.a11y.speak(e.i18n.__("All selected items have been removed. Select new items to use Bulk Actions.")))})),"post"===n&&t("tr.inline-editor textarea[data-wp-taxonomy]").each((function(e,i){t(i).autocomplete("instance")||t(i).wpTagsSuggest()})),t("#bulk-edit .inline-edit-wrapper").attr("tabindex","-1").focus(),t("html, body").animate({scrollTop:0},"fast")},edit:function(i){var n,a,s,r,o,l,d,c,p,u,h=this,v=!0;for(h.revert(),"object"==typeof i&&(i=h.getId(i)),n=["post_title","post_name","post_author","_status","jj","mm","aa","hh","mn","ss","post_password","post_format","menu_order","page_template"],"page"===h.type&&n.push("post_parent"),a=t("#inline-edit").clone(!0),t("td",a).attr("colspan",t("th:visible, td:visible",".widefat:first thead").length),t("td",a).find("#quick-edit-legend").removeAttr("id"),t("td",a).find('p[id^="quick-edit-"]').removeAttr("id"),t(h.what+i).removeClass("is-expanded").hide().after(a).after('<tr class="hidden"></tr>'),s=t("#inline_"+i),t(':input[name="post_author"] option[value="'+t(".post_author",s).text()+'"]',a).val()||t(':input[name="post_author"]',a).prepend('<option value="'+t(".post_author",s).text()+'">'+t("#post-"+i+" .author").text()+"</option>"),1===t(':input[name="post_author"] option',a).length&&t("label.inline-edit-author",a).hide(),c=0;c<n.length;c++)(p=t("."+n[c],s)).find("img").replaceWith((function(){return this.alt})),p=p.text(),t(':input[name="'+n[c]+'"]',a).val(p);if("open"===t(".comment_status",s).text()&&t('input[name="comment_status"]',a).prop("checked",!0),"open"===t(".ping_status",s).text()&&t('input[name="ping_status"]',a).prop("checked",!0),"sticky"===t(".sticky",s).text()&&t('input[name="sticky"]',a).prop("checked",!0),t(".post_category",s).each((function(){var e,n=t(this).text();n&&(e=t(this).attr("id").replace("_"+i,""),t("ul."+e+"-checklist :checkbox",a).val(n.split(",")))})),t(".tags_input",s).each((function(){var n=t(this),s=t(this).attr("id").replace("_"+i,""),r=t("textarea.tax_input_"+s,a),o=e.i18n._x(",","tag delimiter").trim();r.length&&(n.find("img").replaceWith((function(){return this.alt})),(n=n.text())&&(","!==o&&(n=n.replace(/,/g,o)),r.val(n)),r.wpTagsSuggest())})),"future"!==(r=t("._status",s).text())&&t('select[name="_status"] option[value="future"]',a).remove(),u=t(".inline-edit-password-input").prop("disabled",!1),"private"===r&&(t('input[name="keep_private"]',a).prop("checked",!0),u.val("").prop("disabled",!0)),(o=t('select[name="post_parent"] option[value="'+i+'"]',a)).length>0){for(l=o[0].className.split("-")[1],d=o;v&&0!==(d=d.next("option")).length;)d[0].className.split("-")[1]<=l?v=!1:(d.remove(),d=o);o.remove()}return t(a).attr("id","edit-"+i).addClass("inline-editor").show(),t(".ptitle",a).trigger("focus"),!1},save:function(i){var n,a=t(".post_status_page").val()||"";return"object"==typeof i&&(i=this.getId(i)),t("table.widefat .spinner").addClass("is-active"),n={action:"inline-save",post_type:typenow,post_ID:i,edit_date:"true",post_status:a},n=t("#edit-"+i).find(":input").serialize()+"&"+t.param(n),t.post(ajaxurl,n,(function(n){var a=t("#edit-"+i+" .inline-edit-save .notice-error"),s=a.find(".error");t("table.widefat .spinner").removeClass("is-active"),n?-1!==n.indexOf("<tr")?(t(inlineEditPost.what+i).siblings("tr.hidden").addBack().remove(),t("#edit-"+i).before(n).remove(),t(inlineEditPost.what+i).hide().fadeIn(400,(function(){t(this).find(".editinline").attr("aria-expanded","false").trigger("focus"),e.a11y.speak(e.i18n.__("Changes saved."))}))):(n=n.replace(/<.[^<>]*?>/g,""),a.removeClass("hidden"),s.html(n),e.a11y.speak(s.text())):(a.removeClass("hidden"),s.text(e.i18n.__("Error while saving the changes.")),e.a11y.speak(e.i18n.__("Error while saving the changes.")))}),"html"),!1},revert:function(){var e=t(".widefat"),i=t(".inline-editor",e).attr("id");return i&&(t(".spinner",e).removeClass("is-active"),"bulk-edit"===i?(t("#bulk-edit",e).removeClass("inline-editor").hide().siblings(".hidden").remove(),t("#bulk-titles").empty(),t("#inlineedit").append(t("#bulk-edit")),t("#"+inlineEditPost.whichBulkButtonId).trigger("focus")):(t("#"+i).siblings("tr.hidden").addBack().remove(),i=i.substr(i.lastIndexOf("-")+1),t(this.what+i).show().find(".editinline").attr("aria-expanded","false").trigger("focus"))),!1},getId:function(e){var i=t(e).closest("tr").attr("id").split("-");return i[i.length-1]}},t((function(){inlineEditPost.init()})),t((function(){void 0!==e&&e.heartbeat&&e.heartbeat.interval(15)})).on("heartbeat-tick.wp-check-locked-posts",(function(e,i){var n=i["wp-check-locked-posts"]||{};t("#the-list tr").each((function(e,i){var a,s,r=i.id,o=t(i);n.hasOwnProperty(r)?o.hasClass("wp-locked")||(a=n[r],o.find(".column-title .locked-text").text(a.text),o.find(".check-column checkbox").prop("checked",!1),a.avatar_src&&(s=t("<img />",{"class":"avatar avatar-18 photo",width:18,height:18,alt:"",src:a.avatar_src,srcset:a.avatar_src_2x?a.avatar_src_2x+" 2x":undefined}),o.find(".column-title .locked-avatar").empty().append(s)),o.addClass("wp-locked")):o.hasClass("wp-locked")&&o.removeClass("wp-locked").find(".locked-info span").empty()}))})).on("heartbeat-send.wp-check-locked-posts",(function(e,i){var n=[];t("#the-list tr").each((function(t,e){e.id&&n.push(e.id)})),n.length&&(i["wp-check-locked-posts"]=n)}))}(jQuery,window.wp);