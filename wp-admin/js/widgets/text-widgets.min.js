document.addEventListener("DOMContentLoaded",(function(){function e(e){var t,n=e.detail.widget;"text"===n.querySelector(".id_base").value&&(t=n.querySelector("textarea"),function(){if("undefined"!=typeof tinymce&&tinymce.get(t.id)){if(document.body.className.includes("wp-customizer"))return;tinymce.remove("#"+t.id)}wp.editor.initialize(t.id,{tinymce:{wpautop:!0,setup:function(e){e.on("change",(function(){e.save(),t.dispatchEvent(new Event("change",{bubbles:!0}))})),e.addButton("wp_add_media",{title:"Add Media",icon:"image",onclick:function(){var t=wp.media({title:"Select or Upload Media",button:{text:"Use this media"},multiple:!1});t.on("select",(function(){var n=t.state().get("selection").first().toJSON();e.insertContent('<img src="'+n.url+'" alt="'+n.alt+'">')})),t.open()}})}},quicktags:!0,mediaButtons:!0})}())}document.addEventListener("widget-added",e),document.addEventListener("widget-synced",e),document.addEventListener("widget-updated",e)}));