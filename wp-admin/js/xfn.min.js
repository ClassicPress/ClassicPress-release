jQuery(document).ready((function(e){e("#link_rel").prop("readonly",!0),e("#linkxfndiv input").bind("click keyup",(function(){var t=e("#me").is(":checked"),a="";e("input.valinp").each((function(){t?e(this).prop("disabled",!0).parent().addClass("disabled"):(e(this).removeAttr("disabled").parent().removeClass("disabled"),e(this).is(":checked")&&""!==e(this).val()&&(a+=e(this).val()+" "))})),e("#link_rel").val(t?"me":a.substr(0,a.length-1))}))})),jQuery(document).ready((function(e){var t=window.privacyToolsL10n||{};function a(e,t){e.children().hide(),e.children("."+t).show()}function n(e){e.removeClass("has-request-results"),e.next().hasClass("request-results")&&e.next().remove()}function o(t,a,o,s){var r="",i="request-results";n(t),s.length&&(e.each(s,(function(e,t){r=r+"<li>"+t+"</li>"})),r="<ul>"+r+"</ul>"),t.addClass("has-request-results"),t.hasClass("status-request-confirmed")&&(i+=" status-request-confirmed"),t.hasClass("status-request-failed")&&(i+=" status-request-failed"),t.after((function(){return'<tr class="'+i+'"><th colspan="5"><div class="notice inline notice-alt '+a+'"><p>'+o+"</p>"+r+"</div></td></tr>"}))}e(".export-personal-data-handle").click((function(s){var r=e(this),i=r.parents(".export-personal-data"),d=r.parents("tr"),l=i.data("request-id"),c=i.data("nonce"),u=i.data("exporters-count"),p=!!i.data("send-as-email");function m(e){a(i,"export-personal-data-failed"),e&&o(d,"notice-error",t.exportError,[e])}s.preventDefault(),s.stopPropagation(),i.blur(),n(d),a(i,"export-personal-data-processing"),function v(n,o){e.ajax({url:window.ajaxurl,data:{action:"wp-privacy-export-personal-data",exporter:n,id:l,page:o,security:c,sendAsEmail:p},method:"post"}).done((function(e){var s,r=e.data;e.success?r.done?n<u?setTimeout(v(n+1,1)):(s=r.url,a(i,"export-personal-data-success"),void 0!==s?window.location=s:p||m(t.noExportFile)):setTimeout(v(n,o+1)):m(e.data)})).fail((function(e,t,a){m(a)}))}(1,1)})),e(".remove-personal-data-handle").click((function(s){var r=e(this),i=r.parents(".remove-personal-data"),d=r.parents("tr"),l=i.data("request-id"),c=i.data("nonce"),u=i.data("erasers-count"),p=!1,m=!1,v=[];function f(){a(i,"remove-personal-data-failed"),o(d,"notice-error",t.removalError,[])}s.stopPropagation(),i.blur(),n(d),a(i,"remove-personal-data-processing"),function h(n,s){e.ajax({url:window.ajaxurl,data:{action:"wp-privacy-erase-personal-data",eraser:n,id:l,page:s,security:c},method:"post"}).done((function(e){var r,l=e.data;e.success?(l.items_removed&&(p=p||l.items_removed),l.items_retained&&(m=m||l.items_retained),l.messages&&(v=v.concat(l.messages)),l.done?n<u?setTimeout(h(n+1,1)):(r=t.noDataFound,a(i,"remove-personal-data-idle"),r=!1===p?!1===m?t.noDataFound:t.noneRemoved:!1===m?t.foundAndRemoved:t.someNotRemoved,o(d,"notice-success",r,v)):setTimeout(h(n,s+1))):f()})).fail((function(){f()}))}(1,1)}))})),function(e){e(document).on("click",(function(t){var a,n,o,s=e(t.target);if(s.is("button.privacy-text-copy")&&((n=(a=s.parent().parent()).find("div.wp-suggested-text")).length||(n=a.find("div.policy-text")),n.length))try{window.getSelection().removeAllRanges(),o=document.createRange(),n.addClass("hide-privacy-policy-tutorial"),o.selectNodeContents(n[0]),window.getSelection().addRange(o),document.execCommand("copy"),n.removeClass("hide-privacy-policy-tutorial"),window.getSelection().removeAllRanges()}catch(r){}}))}(jQuery);