var ajaxWidgets,ajaxPopulateWidgets,quickPressLoad;window.wp=window.wp||{},jQuery(document).ready((function(e){var t,i=e("#welcome-panel"),s=e("#wp_welcome_panel-hide");t=function(t){e.post(ajaxurl,{action:"update-welcome-panel",visible:t,welcomepanelnonce:e("#welcomepanelnonce").val()})},i.hasClass("hidden")&&s.prop("checked")&&i.removeClass("hidden"),e(".welcome-panel-close, .welcome-panel-dismiss a",i).click((function(s){s.preventDefault(),i.addClass("hidden"),t(0),e("#wp_welcome_panel-hide").prop("checked",!1)})),s.click((function(){i.toggleClass("hidden",!this.checked),t(this.checked?1:0)})),ajaxWidgets=["dashboard_primary","dashboard_petitions"],(ajaxPopulateWidgets=function(t){function i(t,i){var s,n=e("#"+i+" div.inside:visible").find(".widget-loading");n.length&&(s=n.parent(),setTimeout((function(){s.load(ajaxurl+"?action=dashboard-widgets&widget="+i+"&pagenow="+pagenow,"",(function(){s.hide().slideDown("normal",(function(){e(this).css("display","")}))}))}),500*t))}t?(t=t.toString(),-1!==e.inArray(t,ajaxWidgets)&&i(0,t)):e.each(ajaxWidgets,i)})(),postboxes.add_postbox_toggles(pagenow,{pbshow:ajaxPopulateWidgets}),(quickPressLoad=function(){var t,i=e("#quickpost-action");e('#quick-press .submit input[type="submit"], #quick-press .submit input[type="reset"]').prop("disabled",!1),t=e("#quick-press").submit((function(i){i.preventDefault(),e("#dashboard_quick_press #publishing-action .spinner").show(),e('#quick-press .submit input[type="submit"], #quick-press .submit input[type="reset"]').prop("disabled",!0),e.post(t.attr("action"),t.serializeArray(),(function(t){var i;e("#dashboard_quick_press .inside").html(t),e("#quick-press").removeClass("initial-form"),quickPressLoad(),(i=e(".drafts ul li").first()).css("background","#fffbe5"),setTimeout((function(){i.css("background","none")}),1e3),e("#title").focus()}))})),e("#publish").click((function(){i.val("post-quickpress-publish")})),e("#title, #tags-input, #content").each((function(){var t=e(this),i=e("#"+this.id+"-prompt-text");""===this.value&&i.removeClass("screen-reader-text"),i.click((function(){e(this).addClass("screen-reader-text"),t.focus()})),t.blur((function(){""===this.value&&i.removeClass("screen-reader-text")})),t.focus((function(){i.addClass("screen-reader-text")}))})),e("#quick-press").on("click focusin",(function(){wpActiveEditor="content"})),function(){if(document.documentMode&&document.documentMode<9)return;e("body").append('<div class="quick-draft-textarea-clone" style="display: none;"></div>');var t=e(".quick-draft-textarea-clone"),i=e("#content"),s=i.height(),n=e(window).height()-100;t.css({"font-family":i.css("font-family"),"font-size":i.css("font-size"),"line-height":i.css("line-height"),"padding-bottom":i.css("paddingBottom"),"padding-left":i.css("paddingLeft"),"padding-right":i.css("paddingRight"),"padding-top":i.css("paddingTop"),"white-space":"pre-wrap","word-wrap":"break-word",display:"none"}),i.on("focus input propertychange",(function(){var a=e(this),o=a.val()+"&nbsp;",c=t.css("width",a.css("width")).text(o).outerHeight()+2;i.css("overflow-y","auto"),c===s||c>=n&&s>=n||(s=c>n?n:c,i.css("overflow","hidden"),a.css("height",s+"px"))}))}()})(),e(".meta-box-sortables").sortable("option","containment","#wpwrap")})),jQuery((function(e){"use strict";e("#dashboard_petitions").on("click","ul.petitions-tabs > li",(function(t){t.preventDefault(),e("#dashboard_petitions").find(".petitions-tabs > li").removeClass("active"),e("#dashboard_petitions").find(".petitions-pane").removeClass("active"),e(this).addClass("active"),e(e(this).find("a").attr("href")).addClass("active")}))}));