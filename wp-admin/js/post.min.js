window.makeSlugeditClickable=window.editPermalink=function(){},window.wp=window.wp||{},function(e){var t=!1,i=wp.i18n.__;window.commentsBox={st:0,get:function(t,n){var a,s=this.st;return n||(n=20),this.st+=n,this.total=t,e("#commentsdiv .spinner").addClass("is-active"),a={action:"get-comments",mode:"single",_ajax_nonce:e("#add_comment_nonce").val(),p:e("#post_ID").val(),start:s,number:n},e.post(ajaxurl,a,(function(t){if(t=wpAjax.parseAjaxResponse(t),e("#commentsdiv .widefat").show(),e("#commentsdiv .spinner").removeClass("is-active"),"object"==typeof t&&t.responses[0])return e("#the-comment-list").append(t.responses[0].data),theList=theExtraList=null,e("a[className*=':']").off(),void(commentsBox.st>commentsBox.total?e("#show-comments").hide():e("#show-comments").show().children("a").text(i("Show more comments")));1!=t?e("#the-comment-list").append('<tr><td colspan="2">'+wpAjax.broken+"</td></tr>"):e("#show-comments").text(i("No more comments found."))})),!1},load:function(e){this.st=jQuery("#the-comment-list tr.comment:visible").length,this.get(e)}},window.WPSetThumbnailHTML=function(t){e(".inside","#postimagediv").html(t)},window.WPSetThumbnailID=function(t){var i=e('input[value="_thumbnail_id"]',"#list-table");i.length>0&&e("#meta\\["+i.attr("id").match(/[0-9]+/)+"\\]\\[value\\]").text(t)},window.WPRemoveThumbnail=function(t){e.post(ajaxurl,{action:"set-post-thumbnail",post_id:e("#post_ID").val(),thumbnail_id:-1,_ajax_nonce:t,cookie:encodeURIComponent(document.cookie)},(function(e){"0"==e?alert(i("Could not set that as the thumbnail image. Try a different attachment.")):WPSetThumbnailHTML(e)}))},e(document).on("heartbeat-send.refresh-lock",(function(t,i){var n=e("#active_post_lock").val(),a=e("#post_ID").val(),s={};a&&e("#post-lock-dialog").length&&(s.post_id=a,n&&(s.lock=n),i["wp-refresh-post-lock"]=s)})).on("heartbeat-tick.refresh-lock",(function(t,i){var n,a,s;i["wp-refresh-post-lock"]&&((n=i["wp-refresh-post-lock"]).lock_error?(a=e("#post-lock-dialog")).length&&!a.is(":visible")&&(wp.autosave&&(e(document).one("heartbeat-tick",(function(){wp.autosave.server.suspend(),a.removeClass("saving").addClass("saved"),e(window).off("beforeunload.edit-post")})),a.addClass("saving"),wp.autosave.server.triggerSave()),n.lock_error.avatar_src&&(s=e("<img />",{"class":"avatar avatar-64 photo",width:64,height:64,alt:"",src:n.lock_error.avatar_src,srcset:n.lock_error.avatar_src_2x?n.lock_error.avatar_src_2x+" 2x":undefined}),a.find("div.post-locked-avatar").empty().append(s)),a.show().find(".currently-editing").text(n.lock_error.text),a.find(".wp-tab-first").trigger("focus")):n.new_lock&&e("#active_post_lock").val(n.new_lock))})).on("before-autosave.update-post-slug",(function(){t=document.activeElement&&"title"===document.activeElement.id})).on("after-autosave.update-post-slug",(function(){e("#edit-slug-box > *").length||t||e.post(ajaxurl,{action:"sample-permalink",post_id:e("#post_ID").val(),new_title:e("#title").val(),samplepermalinknonce:e("#samplepermalinknonce").val()},(function(t){"-1"!=t&&e("#edit-slug-box").html(t)}))}))}(jQuery),function(e){var t,i;function n(){t=!1,window.clearTimeout(i),i=window.setTimeout((function(){t=!0}),3e5)}e((function(){n()})).on("heartbeat-send.wp-refresh-nonces",(function(i,n){var a,s=e("#wp-auth-check-wrap");(t||s.length&&!s.hasClass("hidden"))&&(a=e("#post_ID").val())&&e("#_wpnonce").val()&&(n["wp-refresh-post-nonces"]={post_id:a})})).on("heartbeat-tick.wp-refresh-nonces",(function(t,i){var a=i["wp-refresh-post-nonces"];a&&(n(),a.replace&&e.each(a.replace,(function(t,i){e("#"+t).val(i)})),a.heartbeatNonce&&(window.heartbeatSettings.nonce=a.heartbeatNonce))}))}(jQuery),jQuery((function(e){var t,i,n,a,s,o,l,r=e("#content"),c=e(document),d=e("#post_ID").val()||0,p=e("#submitpost"),u=!0,h=e("#post-visibility-select"),v=e("#timestampdiv"),f=e("#post-status-select"),m=document.querySelector(".copy-attachment-url.edit-media"),g=wp.i18n.__,w=wp.i18n._x;(window.name="",e("#post-lock-dialog .notification-dialog").on("keydown",(function(t){if(9==t.which){var i=e(t.target);i.hasClass("wp-tab-first")&&t.shiftKey?(e(this).find(".wp-tab-last").trigger("focus"),t.preventDefault()):i.hasClass("wp-tab-last")&&!t.shiftKey&&(e(this).find(".wp-tab-first").trigger("focus"),t.preventDefault())}})).filter(":visible").find(".wp-tab-first").trigger("focus"),wp.heartbeat&&e("#post-lock-dialog").length&&wp.heartbeat.interval(15),n=p.find(":submit, a.submitdelete, #post-preview").on("click.edit-post",(function(t){var i=e(this);i.hasClass("disabled")?t.preventDefault():i.hasClass("submitdelete")||i.is("#post-preview")||e("form#post").off("submit.edit-post").on("submit.edit-post",(function(t){if(!t.isDefaultPrevented()){if(wp.autosave&&wp.autosave.server.suspend(),"undefined"!=typeof commentReply){if(!commentReply.discardCommentChanges())return!1;commentReply.close()}u=!1,e(window).off("beforeunload.edit-post"),n.addClass("disabled"),"publish"===i.attr("id")?p.find("#major-publishing-actions .spinner").addClass("is-active"):p.find("#minor-publishing .spinner").addClass("is-active")}}))})),e("#post-preview").on("click.post-preview",(function(t){var i=e(this),n=e("form#post"),a=e("input#wp-preview"),s=i.attr("target")||"wp-preview",o=navigator.userAgent.toLowerCase();t.preventDefault(),i.hasClass("disabled")||(wp.autosave&&wp.autosave.server.tempBlockSave(),a.val("dopreview"),n.attr("target",s).trigger("submit").attr("target",""),-1!==o.indexOf("safari")&&-1===o.indexOf("chrome")&&n.attr("action",(function(e,t){return t+"?t="+(new Date).getTime()})),a.val(""))})),e("#title").on("keydown.editor-focus",(function(e){var t;if(9===e.keyCode&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){if((t="undefined"!=typeof tinymce&&tinymce.get("content"))&&!t.isHidden())t.focus();else{if(!r.length)return;r.trigger("focus")}e.preventDefault()}})),e("#auto_draft").val()&&e("#title").on("blur",(function(){var t;this.value&&!e("#edit-slug-box > *").length&&(e("form#post").one("submit",(function(){t=!0})),window.setTimeout((function(){!t&&wp.autosave&&wp.autosave.server.triggerSave()}),200))})),c.on("autosave-disable-buttons.edit-post",(function(){n.addClass("disabled")})).on("autosave-enable-buttons.edit-post",(function(){wp.heartbeat&&wp.heartbeat.hasConnectionError()||n.removeClass("disabled")})).on("before-autosave.edit-post",(function(){e(".autosave-message").text(g("Saving Draft\u2026"))})).on("after-autosave.edit-post",(function(t,i){e(".autosave-message").text(i.message),e(document.body).hasClass("post-new-php")&&e(".submitbox .submitdelete").show()})),e(window).on("beforeunload.edit-post",(function(e){var t=window.tinymce&&window.tinymce.get("content"),i=!1;if(wp.autosave?i=wp.autosave.server.postChanged():t&&(i=!t.isHidden()&&t.isDirty()),i)return e.preventDefault(),g("The changes you made will be lost if you navigate away from this page.")})).on("unload.edit-post",(function(t){if(u&&(!t.target||"#document"==t.target.nodeName)){var i=e("#post_ID").val(),n=e("#active_post_lock").val();if(i&&n){var a={action:"wp-remove-post-lock",_wpnonce:e("#_wpnonce").val(),post_ID:i,active_post_lock:n};if(window.FormData&&window.navigator.sendBeacon){var s=new window.FormData;if(e.each(a,(function(e,t){s.append(e,t)})),window.navigator.sendBeacon(ajaxurl,s))return}e.post({async:!1,data:a,url:ajaxurl})}}})),e("#tagsdiv-post_tag").length?window.tagBox&&window.tagBox.init():e(".meta-box-sortables").children("details.postbox").each((function(){if(0===this.id.indexOf("tagsdiv-"))return window.tagBox&&window.tagBox.init(),!1})),e(".categorydiv").each((function(){var t,i,n,a,s;(n=e(this).attr("id").split("-")).shift(),a=n.join("-"),s=a+"_tab","category"==a&&(s="cats"),e("a","#"+a+"-tabs").on("click",(function(t){t.preventDefault();var i=e(this).attr("href");e(this).parent().addClass("tabs").siblings("li").removeClass("tabs"),e("#"+a+"-tabs").siblings(".tabs-panel").hide(),e(i).show(),"#"+a+"-all"==i?deleteUserSetting(s):setUserSetting(s,"pop")})),getUserSetting(s)&&e('a[href="#'+a+'-pop"]',"#"+a+"-tabs").trigger("click"),e("#new"+a).one("focus",(function(){e(this).val("").removeClass("form-input-tip")})),e("#new"+a).on("keypress",(function(t){13===t.keyCode&&(t.preventDefault(),e("#"+a+"-add-submit").trigger("click"))})),e("#"+a+"-add-submit").on("click",(function(){e("#new"+a).trigger("focus")})),t=function(t){return!!e("#new"+a).val()&&(t.data+="&"+e(":checked","#"+a+"checklist").serialize(),e("#"+a+"-add-submit").prop("disabled",!0),t)},i=function(t,i){var n,s=e("#new"+a+"_parent");e("#"+a+"-add-submit").prop("disabled",!1),"undefined"!=i.parsed.responses[0]&&(n=i.parsed.responses[0].supplemental.newcat_parent)&&(s.before(n),s.remove())},e("#"+a+"checklist").wpList({alt:"",response:a+"-ajax-response",addBefore:t,addAfter:i}),e("#"+a+"-add-toggle").on("click",(function(t){t.preventDefault(),e("#"+a+"-adder").toggleClass("wp-hidden-children"),e('a[href="#'+a+'-all"]',"#"+a+"-tabs").trigger("click"),e("#new"+a).trigger("focus")})),e("#"+a+"checklist, #"+a+"checklist-pop").on("click",'li.popular-category > label input[type="checkbox"]',(function(){var t=e(this),i=t.is(":checked"),n=t.val();n&&t.parents("#taxonomy-"+a).length&&e("#in-"+a+"-"+n+", #in-popular-"+a+"-"+n).prop("checked",i)}))})),e("#postcustom").length&&e("#the-list").wpList({addBefore:function(t){return t.data+="&post_id="+e("#post_ID").val(),t},addAfter:function(){e("table#list-table").show()}}),e("#submitdiv").length&&(t=e("#timestamp").html(),i=e("#post-visibility-display").html(),a=function(){"public"!=h.find("input:radio:checked").val()?(e("#sticky").prop("checked",!1),e("#sticky-span").hide()):e("#sticky-span").show(),"password"!=h.find("input:radio:checked").val()?e("#password-span").hide():e("#password-span").show()},s=function(){if(!v.length)return!0;var i,n,a,s,o=e("#post_status"),l=e('option[value="publish"]',o),r=e("#aa").val(),c=e("#mm").val(),d=e("#jj").val(),p=e("#hh").val(),u=e("#mn").val();return i=new Date(r,c-1,d,p,u),n=new Date(e("#hidden_aa").val(),e("#hidden_mm").val()-1,e("#hidden_jj").val(),e("#hidden_hh").val(),e("#hidden_mn").val()),a=new Date(e("#cur_aa").val(),e("#cur_mm").val()-1,e("#cur_jj").val(),e("#cur_hh").val(),e("#cur_mn").val()),i.getFullYear()!=r||1+i.getMonth()!=c||i.getDate()!=d||i.getMinutes()!=u?(v.find(".timestamp-wrap").addClass("form-invalid"),!1):(v.find(".timestamp-wrap").removeClass("form-invalid"),i>a&&"future"!=e("#original_post_status").val()?(s=g("Schedule for:"),e("#publish").val(w("Schedule","post action/button label"))):i<=a&&"publish"!=e("#original_post_status").val()?(s=g("Publish on:"),e("#publish").val(g("Publish"))):(s=g("Published on:"),e("#publish").val(g("Update"))),n.toUTCString()==i.toUTCString()?e("#timestamp").html(t):e("#timestamp").html("\n"+s+" <b>"+g("%1$s %2$s, %3$s at %4$s:%5$s").replace("%1$s",e('option[value="'+c+'"]',"#mm").attr("data-text")).replace("%2$s",parseInt(d,10)).replace("%3$s",r).replace("%4$s",("00"+p).slice(-2)).replace("%5$s",("00"+u).slice(-2))+"</b> "),"private"==h.find("input:radio:checked").val()?(e("#publish").val(g("Update")),0===l.length?o.append('<option value="publish">'+g("Privately Published")+"</option>"):l.html(g("Privately Published")),e('option[value="publish"]',o).prop("selected",!0),e("#misc-publishing-actions .edit-post-status").hide()):("future"==e("#original_post_status").val()||"draft"==e("#original_post_status").val()?l.length&&(l.remove(),o.val(e("#hidden_post_status").val())):l.html(g("Published")),o.is(":hidden")&&e("#misc-publishing-actions .edit-post-status").show()),e("#post-status-display").text(wp.sanitize.stripTagsAndEncodeText(e("option:selected",o).text())),"private"==e("option:selected",o).val()||"publish"==e("option:selected",o).val()?e("#save-post").hide():(e("#save-post").show(),"pending"==e("option:selected",o).val()?e("#save-post").show().val(g("Save as Pending")):e("#save-post").show().val(g("Save Draft"))),!0)},e("#visibility .edit-visibility").on("click",(function(t){t.preventDefault(),h.is(":hidden")&&(a(),h.slideDown("fast",(function(){h.find('input[type="radio"]').first().trigger("focus")})),e(this).hide())})),h.find(".cancel-post-visibility").on("click",(function(t){h.slideUp("fast"),e("#visibility-radio-"+e("#hidden-post-visibility").val()).prop("checked",!0),e("#post_password").val(e("#hidden-post-password").val()),e("#sticky").prop("checked",e("#hidden-post-sticky").prop("checked")),e("#post-visibility-display").html(i),e("#visibility .edit-visibility").show().trigger("focus"),s(),t.preventDefault()})),h.find(".save-post-visibility").on("click",(function(t){var i="",n=h.find("input:radio:checked").val();switch(h.slideUp("fast"),e("#visibility .edit-visibility").show().trigger("focus"),s(),"public"!==n&&e("#sticky").prop("checked",!1),n){case"public":i=e("#sticky").prop("checked")?g("Public, Sticky"):g("Public");break;case"private":i=g("Private");break;case"password":i=g("Password Protected")}e("#post-visibility-display").text(i),t.preventDefault()})),h.find("input:radio").on("change",(function(){a()})),v.siblings("a.edit-timestamp").on("click",(function(t){v.is(":hidden")&&(v.slideDown("fast",(function(){e("input, select",v.find(".timestamp-wrap")).first().trigger("focus")})),e(this).hide()),t.preventDefault()})),v.find(".cancel-timestamp").on("click",(function(t){v.slideUp("fast").siblings("a.edit-timestamp").show().trigger("focus"),e("#mm").val(e("#hidden_mm").val()),e("#jj").val(e("#hidden_jj").val()),e("#aa").val(e("#hidden_aa").val()),e("#hh").val(e("#hidden_hh").val()),e("#mn").val(e("#hidden_mn").val()),s(),t.preventDefault()})),v.find(".save-timestamp").on("click",(function(e){s()&&(v.slideUp("fast"),v.siblings("a.edit-timestamp").show().trigger("focus")),e.preventDefault()})),e("#post").on("submit",(function(t){s()||(t.preventDefault(),v.show(),wp.autosave&&wp.autosave.enableButtons(),e("#publishing-action .spinner").removeClass("is-active"))})),f.siblings("a.edit-post-status").on("click",(function(t){f.is(":hidden")&&(f.slideDown("fast",(function(){f.find("select").trigger("focus")})),e(this).hide()),t.preventDefault()})),f.find(".save-post-status").on("click",(function(e){f.slideUp("fast").siblings("a.edit-post-status").show().trigger("focus"),s(),e.preventDefault()})),f.find(".cancel-post-status").on("click",(function(t){f.slideUp("fast").siblings("a.edit-post-status").show().trigger("focus"),e("#post_status").val(e("#hidden_post_status").val()),s(),t.preventDefault()}))),e("#titlediv").on("click",".edit-slug",(function(){!function(){var t,i,n,a,s,o=0,l=e("#post_name"),r=l.val(),c=e("#sample-permalink"),p=c.html(),u=e("#sample-permalink a").html(),h=e("#edit-slug-buttons"),v=h.html(),f=e("#editable-post-name-full");for(f.find("img").replaceWith((function(){return this.alt})),f=f.html(),c.html(u),a=e("#editable-post-name"),s=a.html(),h.html('<button type="button" class="save button button-small">'+g("OK")+'</button> <button type="button" class="cancel button-link">'+g("Cancel")+"</button>"),h.children(".save").on("click",(function(){var t=a.children("input").val();t!=e("#editable-post-name-full").text()?e.post(ajaxurl,{action:"sample-permalink",post_id:d,new_slug:t,new_title:e("#title").val(),samplepermalinknonce:e("#samplepermalinknonce").val()},(function(i){var n=e("#edit-slug-box");n.html(i),n.hasClass("hidden")&&n.fadeIn("fast",(function(){n.removeClass("hidden")})),h.html(v),c.html(p),l.val(t),e(".edit-slug").trigger("focus"),wp.a11y.speak(g("Permalink saved"))})):h.children(".cancel").trigger("click")})),h.children(".cancel").on("click",(function(){e("#view-post-btn").show(),a.html(s),h.html(v),c.html(p),l.val(r),e(".edit-slug").trigger("focus")})),t=0;t<f.length;++t)"%"==f.charAt(t)&&o++;i=o>f.length/4?"":f,n=g("URL Slug"),a.html('<label for="new-post-slug" class="screen-reader-text">'+n+'</label><input type="text" id="new-post-slug" value="'+i+'" autocomplete="off" spellcheck="false" />').children("input").on("keydown",(function(e){var t=e.which;13===t&&(e.preventDefault(),h.children(".save").trigger("click")),27===t&&h.children(".cancel").trigger("click")})).on("keyup",(function(){l.val(this.value)})).trigger("focus")}()})),window.wptitlehint=function(t){var i=e("#"+(t=t||"title")),n=e("#"+t+"-prompt-text");""===i.val()&&n.removeClass("screen-reader-text"),i.on("input",(function(){""!==this.value?n.addClass("screen-reader-text"):n.removeClass("screen-reader-text")}))},wptitlehint(),function(){var t,i,n,a=e("#post-status-info"),s=e("#postdivrich");function o(e){s.hasClass("wp-editor-expand")||(n?t.theme.resizeTo(null,i+e.pageY):r.height(Math.max(50,i+e.pageY)),e.preventDefault())}function l(){var i,a;s.hasClass("wp-editor-expand")||(n?(t.focus(),((a=parseInt(e("#wp-content-editor-container .mce-toolbar-grp").height(),10))<10||a>200)&&(a=30),i=parseInt(e("#content_ifr").css("height"),10)+a-28):(r.trigger("focus"),i=parseInt(r.css("height"),10)),c.off(".wp-editor-resize"),i&&i>50&&i<5e3&&setUserSetting("ed_size",i))}r.length&&!("ontouchstart"in window)?a.on("mousedown.wp-editor-resize",(function(a){"undefined"!=typeof tinymce&&(t=tinymce.get("content")),t&&!t.isHidden()?(n=!0,i=e("#content_ifr").height()-a.pageY):(n=!1,i=r.height()-a.pageY,r.trigger("blur")),c.on("mousemove.wp-editor-resize",o).on("mouseup.wp-editor-resize mouseleave.wp-editor-resize",l),a.preventDefault()})).on("mouseup.wp-editor-resize",l):e("#content-resize-handle").hide()}(),"undefined"!=typeof tinymce&&(e("#post-formats-select input.post-format").on("change.set-editor-class",(function(){var t,i,n=this.id;n&&e(this).prop("checked")&&(t=tinymce.get("content"))&&((i=t.getBody()).className=i.className.replace(/\bpost-format-[^ ]+/,""),t.dom.addClass(i,"post-format-0"==n?"post-format-standard":n),e(document).trigger("editor-classchange"))})),e("#page_template").on("change.set-editor-class",(function(){var t,i,n=e(this).val()||"";(n=n.substr(n.lastIndexOf("/")+1,n.length).replace(/\.php$/,"").replace(/\./g,"-"))&&(t=tinymce.get("content"))&&((i=t.getBody()).className=i.className.replace(/\bpage-template-[^ ]+/,""),t.dom.addClass(i,"page-template-"+n),e(document).trigger("editor-classchange"))}))),document.addEventListener("keydown",(function(e){var t=document.getElementById("save-post")?document.getElementById("save-post"):document.getElementById("publish");(e.ctrlKey||e.metaKey)&&"s"===e.key.toLowerCase()&&(e.preventDefault(),t.click())})),"auto-draft"===e("#original_post_status").val()&&window.history.replaceState)&&e("#publish").on("click",(function(){l=window.location.href,l+=-1!==l.indexOf("?")?"&":"?",l+="wp-post-new-reload=true",window.history.replaceState(null,null,l)}));null!=m&&m.addEventListener("click",(function(){var e=m.parentNode.previousElementSibling.value,t=document.createElement("input");navigator.clipboard?navigator.clipboard.writeText(e):(document.body.append(t),t.value=e,t.select(),document.execCommand("copy")),clearTimeout(o),m.nextElementSibling.classList.remove("hidden"),m.nextElementSibling.setAttribute("aria-hidden","false"),t.remove(),o=setTimeout((function(){m.nextElementSibling.classList.add("hidden"),m.nextElementSibling.setAttribute("aria-hidden","true")}),3e3),wp.a11y.speak(wp.i18n.__("The file URL has been copied to your clipboard"))}))})),function(e,t){e((function(){var i,n=e("#content"),a=e("#wp-word-count").find(".word-count"),s=0;function o(){var e,o;e=!i||i.isHidden()?n.val():i.getContent({format:"raw"}),(o=t.count(e))!==s&&a.text(o),s=o}e(document).on("tinymce-editor-init",(function(e,t){"content"===t.id&&(i=t,t.on("nodechange keyup",_.debounce(o,1e3)))})),n.on("input keyup",_.debounce(o,1e3)),o()}))}(jQuery,new wp.utils.WordCounter);