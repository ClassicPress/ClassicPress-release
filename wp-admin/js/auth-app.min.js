!function(e,a){var o=e("#app_name"),s=e("#approve"),p=e("#reject"),t=o.closest("form"),r={userLogin:a.user_login,successUrl:a.success,rejectUrl:a.reject};s.on("click",(function(p){var n=o.val(),i=e('input[name="app_id"]',t).val();if(p.preventDefault(),!s.prop("aria-disabled"))if(0!==n.length){s.prop("aria-disabled",!0).addClass("disabled");var l={name:n};i.length>0&&(l.app_id=i),l=wp.hooks.applyFilters("wp_application_passwords_approve_app_request",l,r),wp.apiRequest({path:"/wp/v2/users/me/application-passwords?_locale=user",method:"POST",data:l}).done((function(o,s,p){wp.hooks.doAction("wp_application_passwords_approve_app_request_success",o,s,p);var r,n,i,l=a.success;l?(r=l+(-1===l.indexOf("?")?"?":"&")+"site_url="+encodeURIComponent(a.site_url)+"&user_login="+encodeURIComponent(a.user_login)+"&password="+encodeURIComponent(o.password),window.location=r):(n=wp.i18n.sprintf('<label for="new-application-password-value">'+wp.i18n.__("Your new password for %s is:")+"</label>","<strong></strong>")+' <input id="new-application-password-value" type="text" class="code" readonly="readonly" value="" />',i=e("<div></div>").attr("role","alert").attr("tabindex",-1).addClass("notice notice-success notice-alt").append(e("<p></p>").addClass("application-password-display").html(n)).append("<p>"+wp.i18n.__("Be sure to save this in a safe location. You will not be able to retrieve it.")+"</p>"),e("strong",i).text(o.name),e("input",i).val(o.password),t.replaceWith(i),i.trigger("focus"))})).fail((function(a,o,p){var t=p,r=null;a.responseJSON&&(r=a.responseJSON).message&&(t=r.message);var n=e("<div></div>").attr("role","alert").addClass("notice notice-error").append(e("<p></p>").text(t));e("h1").after(n),s.removeProp("aria-disabled",!1).removeClass("disabled"),wp.hooks.doAction("wp_application_passwords_approve_app_request_error",r,o,p,a)}))}else o.trigger("focus")})),p.on("click",(function(e){e.preventDefault(),wp.hooks.doAction("wp_application_passwords_reject_app",r),window.location=a.reject})),t.on("submit",(function(e){e.preventDefault()}))}(jQuery,authApp);