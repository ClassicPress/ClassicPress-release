window.wp=window.wp||{},function(t,i){window.inlineEditTax={init:function(){var i=this,e=t("#inline-edit");i.type=t("#the-list").attr("data-wp-lists").substr(5),i.what="#"+i.type+"-",t("#the-list").on("click",".editinline",(function(){t(this).attr("aria-expanded","true"),inlineEditTax.edit(this)})),e.on("keyup",(function(t){if(27===t.which)return inlineEditTax.revert()})),t(".cancel",e).on("click",(function(){return inlineEditTax.revert()})),t(".save",e).on("click",(function(){return inlineEditTax.save(this)})),t("input, select",e).on("keydown",(function(t){if(13===t.which)return inlineEditTax.save(this)})),t('#posts-filter input[type="submit"]').on("mousedown",(function(){i.revert()}))},toggle:function(i){var e=this;"none"===t(e.what+e.getId(i)).css("display")?e.revert():e.edit(i)},edit:function(i){var e,n,a,r=this;return r.revert(),"object"==typeof i&&(i=r.getId(i)),e=t("#inline-edit").clone(!0),n=t("#inline_"+i),t("td",e).attr("colspan",t("th:visible, td:visible",".wp-list-table.widefat:first thead").length),t(r.what+i).hide().after(e).after('<tr class="hidden"></tr>'),(a=t(".name",n)).find("img").replaceWith((function(){return this.alt})),a=a.text(),t(':input[name="name"]',e).val(a),(a=t(".slug",n)).find("img").replaceWith((function(){return this.alt})),a=a.text(),t(':input[name="slug"]',e).val(a),t(e).attr("id","edit-"+i).addClass("inline-editor").show(),t(".ptitle",e).eq(0).trigger("focus"),!1},save:function(e){var n,a=t('input[name="taxonomy"]').val()||"";return"object"==typeof e&&(e=this.getId(e)),t("table.widefat .spinner").addClass("is-active"),n={action:"inline-save-tax",tax_type:this.type,tax_ID:e,taxonomy:a},n=t("#edit-"+e).find(":input").serialize()+"&"+t.param(n),t.post(ajaxurl,n,(function(n){var a,r,d,s=t("#edit-"+e+" .inline-edit-save .notice-error"),l=s.find(".error");t("table.widefat .spinner").removeClass("is-active"),n?-1!==n.indexOf("<tr")?(t(inlineEditTax.what+e).siblings("tr.hidden").addBack().remove(),r=t(n).attr("id"),t("#edit-"+e).before(n).remove(),r?(d=r.replace(inlineEditTax.type+"-",""),a=t("#"+r)):(d=e,a=t(inlineEditTax.what+e)),t("#parent").find("option[value="+d+"]").text(a.find(".row-title").text()),a.hide().fadeIn(400,(function(){a.find(".editinline").attr("aria-expanded","false").trigger("focus"),i.a11y.speak(i.i18n.__("Changes saved."))}))):(s.removeClass("hidden"),l.html(n),i.a11y.speak(l.text())):(s.removeClass("hidden"),l.text(i.i18n.__("Error while saving the changes.")),i.a11y.speak(i.i18n.__("Error while saving the changes.")))})),!1},revert:function(){var i=t("table.widefat tr.inline-editor").attr("id");i&&(t("table.widefat .spinner").removeClass("is-active"),t("#"+i).siblings("tr.hidden").addBack().remove(),i=i.substr(i.lastIndexOf("-")+1),t(this.what+i).show().find(".editinline").attr("aria-expanded","false").trigger("focus"))},getId:function(i){var e=("TR"===i.tagName?i.id:t(i).parents("tr").attr("id")).split("-");return e[e.length-1]}},t((function(){inlineEditTax.init()}))}(jQuery,window.wp);