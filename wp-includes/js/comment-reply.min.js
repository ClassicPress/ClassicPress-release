window.addComment=function(e){var t,n,d,r=e.document,o={commentReplyClass:"comment-reply-link",commentReplyTitleId:"reply-title",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},i=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,l="querySelector"in r&&"addEventListener"in e,a=!!r.documentElement.dataset;function m(){c(),function(){if(!i)return;var e={childList:!0,subtree:!0};new i(u).observe(r.body,e)}()}function c(e){if(l&&(t=f(o.cancelReplyId),n=f(o.commentFormId),t)){t.addEventListener("touchstart",s),t.addEventListener("click",s);var d=function(e){if((e.metaKey||e.ctrlKey)&&13===e.keyCode)return n.removeEventListener("keydown",d),e.preventDefault(),n.submit.click(),!1};n&&n.addEventListener("keydown",d);for(var i,a=function(e){var t,n=o.commentReplyClass;e&&e.childNodes||(e=r);t=r.getElementsByClassName?e.getElementsByClassName(n):e.querySelectorAll("."+n);return t}(e),m=0,c=a.length;m<c;m++)(i=a[m]).addEventListener("touchstart",y),i.addEventListener("click",y)}}function s(e){var t=f(o.temporaryFormId);if(t&&d){f(o.parentIdFieldId).value="0";var n=t.textContent;t.parentNode.replaceChild(d,t),this.style.display="none";var r=f(o.commentReplyTitleId),i=r&&r.firstChild,l=i&&i.nextSibling;i&&i.nodeType===Node.TEXT_NODE&&n&&(l&&"A"===l.nodeName&&l.id!==o.cancelReplyId&&(l.style.display=""),i.textContent=n),e.preventDefault()}}function y(t){var n=f(o.commentReplyTitleId),d=n&&n.firstChild.textContent,r=this,i=p(r,"belowelement"),l=p(r,"commentid"),a=p(r,"respondelement"),m=p(r,"postid"),c=p(r,"replyto")||d;i&&l&&a&&m&&!1===e.addComment.moveForm(i,l,a,m,c)&&t.preventDefault()}function u(e){for(var t=e.length;t--;)if(e[t].addedNodes.length)return void c()}function p(e,t){return a?e.dataset[t]:e.getAttribute("data-"+t)}function f(e){return r.getElementById(e)}return l&&"loading"!==r.readyState?m():l&&e.addEventListener("DOMContentLoaded",m,!1),{init:c,moveForm:function(i,l,a,m,c){var s=f(i);d=f(a);var y,u,p,v=f(o.parentIdFieldId),I=f(o.postIdFieldId),C=f(o.commentReplyTitleId),h=C&&C.firstChild,E=h&&h.nextSibling;if(s&&d&&v){void 0===c&&(c=h&&h.textContent),function(e){var t=o.temporaryFormId,n=f(t),d=f(o.commentReplyTitleId),i=d?d.firstChild.textContent:"";if(n)return;(n=r.createElement("div")).id=t,n.style.display="none",n.textContent=i,e.parentNode.insertBefore(n,e)}(d),m&&I&&(I.value=m),v.value=l,t.style.display="",s.parentNode.insertBefore(d,s.nextSibling),h&&h.nodeType===Node.TEXT_NODE&&(E&&"A"===E.nodeName&&E.id!==o.cancelReplyId&&(E.style.display="none"),h.textContent=c),t.onclick=function(){return!1};try{for(var b=0;b<n.elements.length;b++)if(y=n.elements[b],u=!1,"getComputedStyle"in e?p=e.getComputedStyle(y):r.documentElement.currentStyle&&(p=y.currentStyle),(y.offsetWidth<=0&&y.offsetHeight<=0||"hidden"===p.visibility)&&(u=!0),"hidden"!==y.type&&!y.disabled&&!u){y.focus();break}}catch(g){}return!1}}}}(window);