window.wpAjax=jQuery.extend({unserialize:function(e){var t,r,i,n,a={};if(!e)return a;for(i in(t=e.split("?"))[1]&&(e=t[1]),r=e.split("&"))("function"!=typeof r.hasOwnProperty||r.hasOwnProperty(i))&&(a[(n=r[i].split("="))[0]]=n[1]);return a},parseAjaxResponse:function(e,t,r){var i={},n=jQuery("#"+t).empty(),a="",o="";return e&&"object"==typeof e&&e.getElementsByTagName("wp_ajax")?(i.responses=[],i.errors=!1,jQuery("response",e).each((function(){var t,n=jQuery(this),s=jQuery(this.firstChild);(t={action:n.attr("action"),what:s.get(0).nodeName,id:s.attr("id"),oldId:s.attr("old_id"),position:s.attr("position")}).data=jQuery("response_data",s).text(),t.supplemental={},jQuery("supplemental",s).children().each((function(){"notice"!==this.nodeName?t.supplemental[this.nodeName]=jQuery(this).text():o+=jQuery(this).text()})).length||(t.supplemental=!1),t.errors=[],jQuery("wp_error",s).each((function(){var n,o,s,p=jQuery(this).attr("code");n={code:p,message:this.firstChild.nodeValue,data:!1},(o=jQuery('wp_error_data[code="'+p+'"]',e))&&(n.data=o.get()),(s=jQuery("form-field",o).text())&&(p=s),r&&wpAjax.invalidateForm(jQuery("#"+r+' :input[name="'+p+'"]').parents(".form-field:first")),a+="<p>"+n.message+"</p>",t.errors.push(n),i.errors=!0})).length||(t.errors=!1),i.responses.push(t)})),a.length?(n.html('<div class="notice notice-error">'+a+"</div>"),wp.a11y.speak(a)):o.length&&(n.html('<div class="notice notice-success is-dismissible"><p>'+o+"</p></div>"),jQuery(document).trigger("wp-updates-notice-added"),wp.a11y.speak(o)),i):isNaN(e)?(wp.a11y.speak(e),!n.html('<div class="notice notice-error"><p>'+e+"</p></div>")):-1===(e=parseInt(e,10))?(wp.a11y.speak(wpAjax.noPerm),!n.html('<div class="notice notice-error"><p>'+wpAjax.noPerm+"</p></div>")):0!==e||(wp.a11y.speak(wpAjax.broken),!n.html('<div class="notice notice-error"><p>'+wpAjax.broken+"</p></div>"))},invalidateForm:function(e){return jQuery(e).addClass("form-invalid").find("input").one("change wp-check-valid-field",(function(){jQuery(this).closest(".form-invalid").removeClass("form-invalid")}))},validateForm:function(e){return e=jQuery(e),!wpAjax.invalidateForm(e.find(".form-required").filter((function(){return""===jQuery("input:visible",this).val()}))).length}},wpAjax||{noPerm:"Sorry, you are not allowed to do that.",broken:"Something went wrong."}),jQuery((function(e){e("form.validate").on("submit",(function(){return wpAjax.validateForm(e(this))}))}));