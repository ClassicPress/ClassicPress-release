document.addEventListener("DOMContentLoaded",(function(){var e,t,{FilePond:a}=window,i=new URLSearchParams(window.location.search),n=document.querySelector(".page-title-action"),d=document.querySelector(".uploader-inline"),r=document.querySelector(".close"),o=document.getElementById("upload-category"),l=document.getElementById("filepond"),c=document.getElementById("ajax-url").value,s=document.getElementById("media-modal"),u=document.getElementById("left-dashicon"),m=document.getElementById("right-dashicon"),p=document.getElementById("dialog-close-button"),g=document.getElementById("left-dashicon-mobile"),y=document.getElementById("right-dashicon-mobile"),v=document.querySelector(".edit-media-header .media-navigation"),h=document.querySelector(".attachment-media-view .media-navigation"),b="1",f=document.getElementById("filter-by-date")?document.getElementById("filter-by-date"):"",S=document.getElementById("filter-by-type")?document.getElementById("filter-by-type"):"",A=document.getElementById("media-search-input"),q=document.getElementById("taxonomy=media_category&term")?document.getElementById("taxonomy=media_category&term"):"",E=document.querySelector("#media-grid ul");function _(e){var a=document.getElementById("media-"+e);if(a){var i=new URLSearchParams({action:"delete-post",_ajax_nonce:a.dataset.deleteNonce,id:e});fetch(c,{method:"POST",body:i,credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){1===e?(t=null!=a.previousElementSibling?a.previousElementSibling.id:null!=a.nextElementSibling?a.nextElementSibling.id:n.id,a.remove(),p.click(),w()):console.log(_wpMediaGridSettings.delete_failed)}))["catch"]((function(e){console.error(_wpMediaGridSettings.error,e)}))}}function w(){var e,t=document.querySelectorAll(".media-item"),a=document.querySelector(".displaying-num").textContent.split(" "),i=document.querySelector(".load-more-count").textContent.split(" ");t.forEach((function(e,t){e.setAttribute("data-order",parseInt(t+1))})),e=5 in i?" "+i[5]:"",document.querySelector(".load-more-count").textContent=i[0]+" "+t.length+" "+i[2]+" "+t.length+" "+i[4]+e,document.querySelector(".displaying-num").textContent=t.length+" "+a[1],s.querySelector("#total-media-items").textContent=t.length,s.querySelector("#total-media-items-mobile").textContent=t.length}function x(){window.innerWidth>480?(v.style.display="",h.style.display="none"):(v.style.display="none",h.style.display="")}function L(e){var t=e.id.replace("media-",""),a=e.getAttribute("aria-label"),n=e.dataset.date,d=e.dataset.filename,r=e.dataset.filetype,o=e.dataset.mime,l=e.dataset.size,p=e.dataset.width,v=e.dataset.height,h=e.dataset.caption,b=e.dataset.description,f=e.dataset.taxes,S=e.dataset.tags,A=e.dataset.url,q=e.querySelector("img").getAttribute("alt"),E=e.dataset.link,_=e.dataset.author,w=e.dataset.authorLink,L=e.dataset.orientation?" "+e.dataset.orientation:"",k=e.dataset.menuOrder,I=e.previousElementSibling?e.previousElementSibling.id:"",B=e.nextElementSibling?e.nextElementSibling.id:"",M=e.dataset.order,T=parseInt(document.querySelector(".displaying-num").textContent);i.set("item",t),history.replaceState(null,null,"?"+i.toString()),function(e){var t=document.createElement("form");t.className="compat-item",t.innerHTML='<input type="hidden" id="menu-order" name="attachments['+e+'][menu_order]" value="0"><p class="media-types media-types-required-info"><span class="required-field-message">Required fields are marked <span class="required">*</span></span></p><span class="setting" data-setting="media_category"><label for="attachments-'+e+'-media_category"><span class="alignleft">Media Categories</span></label><input type="text" class="text" id="attachments-'+e+'-media_category" name="attachments['+e+'][media_category]" value=""></span><span class="setting" data-setting="media_post_tag"><label for="attachments-'+e+'-media_post_tag"><span class="alignleft">Media Tags</span></label><input type="text" class="text" id="attachments-'+e+'-media_post_tag" name="attachments['+e+'][media_post_tag]" value=""></span>',null!=document.querySelector(".compat-item")&&document.querySelector(".compat-item").remove(),document.querySelector(".attachment-compat").append(t)}(t),s.querySelector(".attachment-date").textContent=n,s.querySelector(".uploaded-by").children[1].textContent=_,s.querySelector(".uploaded-by").children[1].href=w,s.querySelector(".attachment-filename").textContent=d,s.querySelector(".attachment-filetype").textContent=o,s.querySelector(".attachment-filesize").textContent=l,s.querySelector(".attachment-dimensions").textContent=p+" "+_wpMediaGridSettings.by+" "+v+" "+_wpMediaGridSettings.pixels,s.querySelector(".attachment-media-view").className="attachment-media-view"+L,s.querySelector("#attachment-details-two-column-alt-text").value=q,s.querySelector("#attachment-details-two-column-title").value=a,s.querySelector("#attachment-details-two-column-caption").value=h,s.querySelector("#attachment-details-two-column-description").value=b,s.querySelector("#attachment-details-two-column-copy-link").value=A,s.querySelector("#menu-order").value=k,s.querySelector("#attachments-"+t+"-media_category").value=f,s.querySelector("#attachments-"+t+"-media_post_tag").value=S,"audio"===r?(s.querySelector("#media-image").setAttribute("hidden",!0),s.querySelector("#media-video").setAttribute("hidden",!0),s.querySelector("#media-audio").removeAttribute("hidden"),s.querySelector("audio.wp-audio-shortcode").src=A,s.querySelector("audio").setAttribute("type",o)):"video"===r?(s.querySelector(".wp-video").removeAttribute("style"),s.querySelector("#media-image").setAttribute("hidden",!0),s.querySelector("#media-audio").setAttribute("hidden",!0),s.querySelector("#media-video").removeAttribute("hidden"),s.querySelector("video.wp-video-shortcode").src=A,s.querySelector("video").setAttribute("type",o)):(s.querySelector("#media-audio").setAttribute("hidden",!0),s.querySelector("#media-video").setAttribute("hidden",!0),s.querySelector("#media-image").removeAttribute("hidden"),"image"===r?(s.querySelector(".thumbnail-image img").src=A,s.querySelector(".edit-attachment").style.display="",("image/webp"===o&&!_wpMediaGridSettings.webp_editable||"image/avif"===o&&!_wpMediaGridSettings.avif_editable||"image/heic"===o&&!_wpMediaGridSettings.heic_editable)&&(s.querySelector(".edit-attachment").style.display="none")):(s.querySelector(".thumbnail-image img").src=e.querySelector("img").src,s.querySelector(".edit-attachment").style.display="none")),s.querySelector(".thumbnail-image img").setAttribute("alt",q),s.querySelector("#view-attachment").href=E,s.querySelector("#edit-more").href=c.replace("admin-ajax.php","post.php?post="+t+"&action=edit"),s.querySelector("#download-file").href=A,u.setAttribute("data-prev",I),m.setAttribute("data-next",B),""===I?(u.setAttribute("aria-disabled",!0),g.setAttribute("aria-disabled",!0)):(u.setAttribute("aria-disabled",!1),g.setAttribute("aria-disabled",!1)),""===B?(m.setAttribute("aria-disabled",!0),y.setAttribute("aria-disabled",!0)):(m.setAttribute("aria-disabled",!1),y.setAttribute("aria-disabled",!1)),s.querySelector("#current-media-item").textContent=M,s.querySelector("#total-media-items").textContent=T,s.querySelector("#current-media-item-mobile").textContent=M,s.querySelector("#total-media-items-mobile").textContent=T,x(),s.classList.add("modal-loading"),setTimeout((function(){s.showModal()}),1),s.querySelectorAll(".compat-item input").forEach((function(e){e.addEventListener("blur",(function(){!function(e,t){var a=document.getElementById("media-"+t);if(a){var i,n,d=new FormData,r=e.getAttribute("name").replace("attachments["+t+"][","").replace("]","");d.append("action","save-attachment-compat"),d.append("nonce",a.dataset.updateNonce),d.append("id",t),d.append("taxonomy",r),d.append("attachments["+t+"]["+r+"]",e.value),fetch(c,{method:"POST",body:d,credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){t.success?("media_category"===r?(n=t.data.media_cats.join(", "),e.value=n,a.setAttribute("data-taxes",n)):"media_post_tag"===r&&(n=t.data.media_tags.join(", "),e.value=n,a.setAttribute("data-tags",n)),clearTimeout(i),document.getElementById("tax-saved").classList.remove("hidden"),document.getElementById("tax-saved").setAttribute("aria-hidden","false"),i=setTimeout((function(){document.getElementById("tax-saved").classList.add("hidden"),document.getElementById("tax-saved").setAttribute("aria-hidden","true")}),3e3)):console.error(_wpMediaGridSettings.failed_update,t.data.error)}))["catch"]((function(e){console.error(_wpMediaGridSettings.error,e)}))}}(e,t)}))}))}function k(e){var t=document.querySelector(".delete-selected-button");e.className.includes("selected")?(e.classList.remove("selected"),e.setAttribute("aria-checked",!1),null==document.querySelector(".media-item.selected")&&t.setAttribute("disabled",!0)):(e.classList.add("selected"),e.setAttribute("aria-checked",!0),t.disabled&&t.removeAttribute("disabled"))}function I(e){var t=document.createElement("li"),a='<img src="'+e.url+'" alt="'+e.alt+'">';return"application"===e.type?a="vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.subtype?'<div class="icon"><div class="centered"><img src="'+_wpMediaGridSettings.includes_url+'images/media/spreadsheet.png" draggable="false" alt=""></div><div class="filename"><div>'+e.title+"</div></div></div>":"zip"===e.subtype?'<div class="icon"><div class="centered"><img src="'+_wpMediaGridSettings.includes_url+'images/media/archive.png" draggable="false" alt=""></div><div class="filename"><div>'+e.title+"</div></div></div>":'<div class="icon"><div class="centered"><img src="'+_wpMediaGridSettings.includes_url+'images/media/document.png" draggable="false" alt=""></div><div class="filename"><div>'+e.title+"</div></div></div>":"audio"===e.type?a='<div class="icon"><div class="centered"><img src="'+_wpMediaGridSettings.includes_url+'images/media/audio.png" draggable="false" alt=""></div><div class="filename"><div>'+e.title+"</div></div></div>":"video"===e.type&&(a='<div class="icon"><div class="centered"><img src="'+_wpMediaGridSettings.includes_url+'images/media/video.png" draggable="false" alt=""></div><div class="filename"><div>'+e.title+"</div></div></div>"),t.className="media-item",t.id="media-"+e.id,t.setAttribute("tabindex",0),t.setAttribute("role","checkbox"),t.setAttribute("aria-checked","false"),t.setAttribute("aria-label",e.title),t.setAttribute("data-date",e.dateFormatted),t.setAttribute("data-url",e.url),t.setAttribute("data-filename",e.filename),t.setAttribute("data-filetype",e.type),t.setAttribute("data-mime",e.mime),t.setAttribute("data-width",e.width),t.setAttribute("data-height",e.height),t.setAttribute("data-size",e.filesizeHumanReadable),t.setAttribute("data-caption",e.caption),t.setAttribute("data-description",e.description),t.setAttribute("data-link",e.link),t.setAttribute("data-orientation",e.orientation),t.setAttribute("data-menu-order",e.menuOrder),t.setAttribute("data-taxes",e.media_cats),t.setAttribute("data-tags",e.media_tags),t.setAttribute("data-update-nonce",e.nonces.update),t.setAttribute("data-delete-nonce",e.nonces["delete"]),t.setAttribute("data-edit-nonce",e.nonces.edit),t.innerHTML='<div class="select-attachment-preview type-'+e.type+" subtype-"+e.subtype+'"><div class="media-thumbnail">'+a+'</div></div><button type="button" class="check" tabindex="-1"><span class="media-modal-icon"></span><span class="screen-reader-text">'+_wpMediaGridSettings.deselect+"></span></button>",t}function B(){var e=f.value,t=S.value,a=document.querySelector(".load-more-count").textContent;const n=new URLSearchParams({action:"query-attachments","query[posts_per_page]":document.getElementById("media_grid_per_page").value,"query[monthnum]":e?parseInt(e.substr(4,2),10):0,"query[year]":e?parseInt(e.substr(0,4),10):0,"query[post_mime_type]":t||"","query[s]":A?A.value:"","query[paged]":b||"1","query[media_category_name]":q?q.value:"",_ajax_nonce:document.getElementById("media_grid_nonce").value});fetch(c,{method:"POST",body:n,credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){e.success?(E.innerHTML="",0===e.data.length?(document.querySelectorAll(".pagination-links a").forEach((function(e){e.setAttribute("href",e.href.replace(e.href.split("?paged=")[1],1)),e.setAttribute("disabled",!0),e.setAttribute("inert",!0)})),document.getElementById("current-page-selector").setAttribute("value",1),document.querySelector(".total-pages").textContent=1,document.querySelector(".displaying-num").textContent=document.querySelector(".displaying-num").textContent.replace(/[0-9]+/,0),document.querySelector(".load-more-count").setAttribute("hidden",!0),document.querySelector(".no-media").removeAttribute("hidden"),i.set("paged",1),history.replaceState(null,null,"?"+i.toString())):(e.data.forEach((function(e){var t=I(e);E.appendChild(t)})),document.querySelectorAll(".pagination-links a").forEach((function(t){t.className.includes("first-page")||t.className.includes("prev-page")?"1"===b?(t.setAttribute("disabled",!0),t.setAttribute("inert",!0)):(t.removeAttribute("disabled"),t.removeAttribute("inert"),t.className.includes("prev-page")&&t.setAttribute("href",t.href.replace(t.href.split("?paged=")[1],parseInt(b)-1))):t.className.includes("next-page")?e.headers.max_pages===parseInt(b)?(t.setAttribute("href",t.href.replace(t.href.split("?paged=")[1],b)),t.setAttribute("disabled",!0),t.setAttribute("inert",!0)):(t.setAttribute("href",t.href.replace(t.href.split("?paged=")[1],parseInt(b)+1)),t.removeAttribute("disabled"),t.removeAttribute("inert")):t.className.includes("last-page")&&(t.setAttribute("href",t.href.replace(t.href.split("?paged=")[1],e.headers.max_pages)),e.headers.max_pages===parseInt(b)?(t.setAttribute("disabled",!0),t.setAttribute("inert",!0)):(t.removeAttribute("disabled"),t.removeAttribute("inert"))),document.getElementById("current-page-selector").setAttribute("value",b||1),document.getElementById("current-page-selector").value=b||1,document.querySelector(".total-pages").textContent=e.headers.max_pages,document.querySelector(".displaying-num").textContent=document.querySelector(".displaying-num").textContent.replace(/[0-9]+/,e.headers.total_posts),i.set("paged",b),history.replaceState(null,null,"?"+i.toString())})),document.querySelectorAll(".media-item").forEach((function(e){e.addEventListener("click",(function(){null==document.querySelector(".media-toolbar-mode-select")?L(e):k(e)}))})),document.querySelector(".no-media").setAttribute("hidden",!0),document.querySelector(".load-more-count").removeAttribute("hidden"),document.querySelector(".load-more-count").textContent=a.replace(/[0-9]+/g,e.headers.total_posts).replace(/[0-9]+/,e.data.length)),b="1"):console.error(_wpMediaGridSettings.failed_update,e.data.message)}))["catch"]((function(e){console.error(_wpMediaGridSettings.error,e)}))}function M(){null!=document.querySelector(".imgedit-wrap")&&(document.querySelector(".imgedit-wrap").remove(),document.querySelector(".attachment-details").removeAttribute("hidden"),document.querySelector(".attachment-details").removeAttribute("inert"))}function T(){var e=u.dataset.prev;e&&(t=e,document.getElementById(e).click(),""===v.style.display?u.focus():g.focus()),M()}function C(){var e=m.dataset.next;e&&(t=e,document.getElementById(e).click(),""===v.style.display?m.focus():y.focus()),M()}function N(e){s.open&&("ArrowLeft"===e.key?(e.preventDefault(),T()):"ArrowRight"===e.key&&(e.preventDefault(),C()))}window.addEventListener("resize",x),s.querySelector(".delete-attachment").addEventListener("click",(function(){var e=location.search.replace("?item=","");confirm(_wpMediaGridSettings.confirm_delete)&&(_(e),w())})),i.has("item")&&null!=(e=parseInt(i.get("item")))&&null!=document.getElementById("media-"+e)&&setTimeout((function(){document.getElementById("media-"+e).click(),i.has("mode")&&"edit"===i.get("mode")&&document.querySelector(".edit-attachment").click()})),null!=o&&(""==o.value&&(n.setAttribute("inert",!0),n.setAttribute("disabled",!0),window.addEventListener("dragover",(function(e){e.preventDefault()}),!1),window.addEventListener("drop",(function(e){e.preventDefault()}),!1)),o.addEventListener("change",(function(e){var t,a=document.querySelector(".is-dismissible"),i=new URLSearchParams({action:"media-cat-upload",option:"media_cat_upload_folder",media_cat_upload_value:e.target.value,media_cat_upload_nonce:document.getElementById("media_cat_upload_nonce").value});null!=a&&a.remove(),""==o.value?(n.setAttribute("inert",!0),n.setAttribute("disabled",!0),window.addEventListener("dragover",(function(e){e.preventDefault()}),!1),window.addEventListener("drop",(function(e){e.preventDefault()}),!1)):(n.removeAttribute("inert"),n.removeAttribute("disabled")),fetch(c,{method:"POST",body:i,credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(a){a.success&&(""==a.data.value?((t=document.createElement("div")).id="message",t.className="notice notice-error is-dismissible",t.innerHTML="<p>"+a.data.message+'</p><button class="notice-dismiss" type="button"></button>',document.querySelector(".page-title-action").after(t)):((t=document.createElement("div")).id="message",t.className="updated notice notice-success is-dismissible",t.innerHTML="<p>"+a.data.message+'</p><button class="notice-dismiss" type="button"></button>',document.querySelector(".page-title-action").after(t),o.childNodes.forEach((function(t){t.value===e.target.value?t.setAttribute("selected",!0):t.removeAttribute("selected")}))))}))["catch"]((function(e){(t=document.createElement("div")).id="message",t.className="notice notice-error is-dismissible",t.innerHTML="<p>"+e+'</p><button class="notice-dismiss" type="button"></button>',document.querySelector(".page-title-action").after(t)}))})),document.addEventListener("click",(function(e){"notice-dismiss"===e.target.className&&document.querySelector(".is-dismissible").remove()}))),S&&S.addEventListener("change",B),f&&f.addEventListener("change",B),q&&q.addEventListener("change",B),A.addEventListener("input",(function(){var e;clearTimeout(e),e=setTimeout(B,200)})),document.getElementById("current-page-selector").addEventListener("change",(function(e){var t;b=e.target.value,clearTimeout(t),t=setTimeout(B,200)})),document.querySelectorAll(".pagination-links a").forEach((function(e){e.addEventListener("click",(function(t){""===S.value&&"0"===f.value&&"0"===q.value||(t.preventDefault(),b=e.href.split("?paged=")[1],B())}))})),n.addEventListener("click",(function(){d.hasAttribute("hidden")?(d.removeAttribute("inert"),d.removeAttribute("hidden"),n.setAttribute("aria-expanded",!0)):(d.setAttribute("inert",!0),d.setAttribute("hidden",!0),n.setAttribute("aria-expanded",!1))})),r.addEventListener("click",(function(){d.setAttribute("inert",!0),d.setAttribute("hidden",!0),n.setAttribute("aria-expanded",!1)})),document.addEventListener("keyup",(function(e){"Escape"===e.key?(i["delete"]("item"),i["delete"]("mode"),history.replaceState(null,null,location.href.split("?")[0]),r.click(),null!=t&&(document.getElementById(t).focus(),t=null),M()):"Enter"===e.key&&"media-item"===e.target.className&&e.target.click()})),document.querySelectorAll(".media-item").forEach((function(e){e.addEventListener("click",(function(){null==document.querySelector(".media-toolbar-mode-select")?L(e):k(e)}))})),s.querySelectorAll(".settings input, .settings textarea").forEach((function(e){e.addEventListener("blur",(function(){var t=i.get("item");!function(e,t){var a=document.getElementById("media-"+t);if(a){var i,n=new FormData;n.append("action","save-attachment"),n.append("id",t),n.append("nonce",a.dataset.updateNonce),"alt"===e.parentNode.dataset.setting?n.append("changes[alt]",e.value):"title"===e.parentNode.dataset.setting?n.append("changes[title]",e.value):"caption"===e.parentNode.dataset.setting?n.append("changes[caption]",e.value):"description"===e.parentNode.dataset.setting&&n.append("changes[description]",e.value),fetch(c,{method:"POST",body:n,credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){t.success?("alt"===e.parentNode.dataset.setting?a.querySelector("img").setAttribute("alt",e.value):"title"===e.parentNode.dataset.setting?a.setAttribute("aria-label",e.value):"caption"===e.parentNode.dataset.setting?a.setAttribute("data-caption",e.value):"description"===e.parentNode.dataset.setting&&a.setAttribute("data-description",e.value),clearTimeout(i),document.getElementById("details-saved").classList.remove("hidden"),document.getElementById("details-saved").setAttribute("aria-hidden","false"),i=setTimeout((function(){document.getElementById("details-saved").classList.add("hidden"),document.getElementById("details-saved").setAttribute("aria-hidden","true")}),3e3)):console.error(_wpMediaGridSettings.failed_update,t.data.error)}))["catch"]((function(e){console.error(_wpMediaGridSettings.error,e)}))}}(e,t)}))})),p.addEventListener("click",(function(){i["delete"]("item"),i["delete"]("mode"),history.replaceState(null,null,location.href.split("?")[0]),s.classList.remove("modal-loading"),s.close(),null!=t&&(document.getElementById(t).focus(),t=null),M()})),u.addEventListener("click",T),g.addEventListener("click",T),m.addEventListener("click",C),y.addEventListener("click",C),document.querySelector(".edit-media-header").addEventListener("keydown",N),h.addEventListener("keydown",N),document.querySelector(".edit-attachment").addEventListener("click",(function(e){var t=parseInt(i.get("item")),a=document.getElementById("media-"+t),n=(a.dataset.width,a.dataset.height,a.dataset.editNonce),d=new FormData;d.append("action","image-editor"),d.append("_ajax_nonce",n),d.append("postid",t),d.append("do","rotate-cw"),d.append("target","full"),d.append("context","edit-attachment"),fetch(c,{method:"POST",body:d,credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){if(null==s.querySelector("#edit-image-navigation")){var t=document.createElement("div");t.id="edit-image-navigation",t.className="attachment-media-view landscape",t.append(h),document.querySelector(".media-frame-content").before(t)}document.querySelector(".attachment-details").setAttribute("hidden",!0),document.querySelector(".attachment-details").setAttribute("inert",!0),document.querySelector(".media-frame-content").insertAdjacentHTML("beforeend",e.data.html),i.set("mode","edit"),history.replaceState(null,null,"?"+i.toString())}))["catch"]((function(e){console.error("Error:",e)}))})),document.querySelector(".select-mode-toggle-button").addEventListener("click",(function(e){var t=document.querySelector(".cp-media-toolbar"),a=document.querySelector(".delete-selected-button");t.className.includes("media-toolbar-mode-select")?(document.querySelectorAll(".media-item").forEach((function(e){e.className.includes("selected")&&(e.classList.remove("selected"),e.setAttribute("aria-checked",!1))})),e.target.textContent="Bulk select",f.style.display="",S.style.display="",q.style.display="",a.classList.add("hidden"),t.classList.remove("media-toolbar-mode-select")):(e.target.textContent="Cancel",f.style.display="none",S.style.display="none",q.style.display="none",a.classList.remove("hidden"),t.classList.add("media-toolbar-mode-select"),a.addEventListener("click",(function(){var e=document.querySelectorAll(".media-item.selected");0!==e.length&&(confirm(_wpMediaGridSettings.confirm_multiple)&&e.forEach((function(e){_(e.id.replace("media-",""))})),document.querySelector(".select-mode-toggle-button").click())})))})),document.querySelector(".copy-attachment-url").addEventListener("click",(function(e){var t,a=e.target.parentNode.previousElementSibling.value,i=document.createElement("input");navigator.clipboard?navigator.clipboard.writeText(a):(document.body.append(i),i.value=a,i.select(),document.execCommand("copy")),clearTimeout(t),e.target.nextElementSibling.classList.remove("hidden"),e.target.nextElementSibling.setAttribute("aria-hidden","false"),i.remove(),t=setTimeout((function(){e.target.nextElementSibling.classList.add("hidden"),e.target.nextElementSibling.setAttribute("aria-hidden","true")}),3e3)})),a.registerPlugin(FilePondPluginFileValidateSize,FilePondPluginFileValidateType,FilePondPluginFileRename,FilePondPluginImagePreview),a.create(l,{allowMultiple:!0,server:{process:function(e,t,a,i,n,d,r,o,l){var s=new FormData;return s.append("async-upload",t,t.name),s.append("action","upload-attachment"),s.append("_wpnonce",document.getElementById("_wpnonce").value),fetch(c,{method:"POST",body:s,credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){var t;e.success?(i(e.data),t=I(e.data),E.prepend(t),t.addEventListener("click",(function(){null==document.querySelector(".media-toolbar-mode-select")?L(t):k(t)}))):n(_wpMediaGridSettings.upload_failed)}))["catch"]((function(e){n(_wpMediaGridSettings.upload_failed),console.error(_wpMediaGridSettings.error,e)})),{abort:function(){r()}}},maxFileSize:document.getElementById("filepond").dataset.maxFileSize},labelTapToUndo:_wpMediaGridSettings.tap_close,fileRenameFunction:e=>new Promise((function(t){t(window.prompt(_wpMediaGridSettings.new_filename,e.name))})),acceptedFileTypes:document.querySelector(".uploader-inline").dataset.allowedMimes.split(","),labelFileTypeNotAllowed:_wpMediaGridSettings.invalid_type,fileValidateTypeLabelExpectedTypes:_wpMediaGridSettings.check_types})}));