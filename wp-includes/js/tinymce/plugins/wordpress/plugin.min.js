!function(e){(!e.ui.FloatPanel.zIndex||e.ui.FloatPanel.zIndex<100100)&&(e.ui.FloatPanel.zIndex=100100),e.PluginManager.add("wordpress",(function(t){var n,o,i=e.DOM,a=e.each,r=t.editorManager.i18n.translate,s=window.jQuery,d=window.wp,l=d&&d.editor&&d.editor.autop&&t.getParam("wpautop",!0),c=!1;function p(o){var r,s,d,l=0,c=e.$(".block-library-classic__toolbar");"hide"===o?r=!0:c.length&&!c.hasClass("has-advanced-toolbar")&&(c.addClass("has-advanced-toolbar"),o="show"),t.theme.panel&&(s=t.theme.panel.find(".toolbar:not(.menubar)")),s&&s.length>1&&(!o&&s[1].visible()&&(o="hide"),a(s,(function(e,t){t>0&&("hide"===o?(e.hide(),l+=34):(e.show(),l-=34))}))),l&&!e.Env.iOS&&t.iframeElement&&t.iframeElement.clientHeight&&(d=t.iframeElement.clientHeight+l)>50&&i.setStyle(t.iframeElement,"height",d),r||("hide"===o?(setUserSetting("hidetb","0"),n&&n.active(!1)):(setUserSetting("hidetb","1"),n&&n.active(!0))),t.fire("wp-toolbar-toggle")}function m(n){var o,i,r,s=t.translate(n);return c||(i="Shift+Alt+",r="Ctrl+",c={},e.Env.mac&&(i="\u2303\u2325",r="\u2318"),t.settings.wp_shortcut_labels&&a(t.settings.wp_shortcut_labels,(function(e,n){var o=t.translate(n);e=e.replace("access",i).replace("meta",r),c[n]=e,n!==o&&(c[o]=e)}))),c.hasOwnProperty(s)?o=c[s]:c.hasOwnProperty(n)&&(o=c[n]),o?s+" ("+o+")":s}function u(){}return s&&s(document).triggerHandler("tinymce-editor-setup",[t]),t.addButton("wp_adv",{tooltip:"Toolbar Toggle",cmd:"WP_Adv",onPostRender:function(){(n=this).active("1"===getUserSetting("hidetb"))}}),t.on("PostRender",(function(){t.getParam("wordpress_adv_hidden",!0)&&"0"===getUserSetting("hidetb","0")?p("hide"):e.$(".block-library-classic__toolbar").addClass("has-advanced-toolbar")})),t.addCommand("WP_Adv",(function(){p()})),t.on("focus",(function(){window.wpActiveEditor=t.id})),t.on("BeforeSetContent",(function(t){var n;t.content&&(-1!==t.content.indexOf("\x3c!--more")&&(n=r("Read more..."),t.content=t.content.replace(/<!--more(.*?)-->/g,(function(t,o){return'<img src="'+e.Env.transparentSrc+'" data-wp-more="more" data-wp-more-text="'+o+'" class="wp-more-tag mce-wp-more" alt="" title="'+n+'" data-mce-resize="false" data-mce-placeholder="1" />'}))),-1!==t.content.indexOf("\x3c!--nextpage--\x3e")&&(n=r("Page break"),t.content=t.content.replace(/<!--nextpage-->/g,'<img src="'+e.Env.transparentSrc+'" data-wp-more="nextpage" class="wp-more-tag mce-wp-nextpage" alt="" title="'+n+'" data-mce-resize="false" data-mce-placeholder="1" />')),t.load&&"raw"!==t.format&&(t.content=l?d.editor.autop(t.content):t.content.replace(/-->\s+<!--/g,"--\x3e\x3c!--")),-1===t.content.indexOf("<script")&&-1===t.content.indexOf("<style")||(t.content=t.content.replace(/<(script|style)[^>]*>[\s\S]*?<\/\1>/g,(function(t,n){return'<img src="'+e.Env.transparentSrc+'" data-wp-preserve="'+encodeURIComponent(t)+'" data-mce-resize="false" data-mce-placeholder="1" class="mce-object" width="20" height="20" alt="&lt;'+n+'&gt;" title="&lt;'+n+'&gt;" />'}))))})),t.on("setcontent",(function(){t.$("p").each((function(t,n){if(n.innerHTML&&n.innerHTML.length<10){var o=e.trim(n.innerHTML);o&&"&nbsp;"!==o||(n.innerHTML=e.Env.ie&&e.Env.ie<11?"":'<br data-mce-bogus="1">')}}))})),t.on("PostProcess",(function(e){e.get&&(e.content=e.content.replace(/<img[^>]+>/g,(function(e){var t,n,o="";return-1!==e.indexOf('data-wp-more="more"')?((t=e.match(/data-wp-more-text="([^"]+)"/))&&(o=t[1]),n="\x3c!--more"+o+"--\x3e"):-1!==e.indexOf('data-wp-more="nextpage"')?n="\x3c!--nextpage--\x3e":-1!==e.indexOf("data-wp-preserve")&&(t=e.match(/ data-wp-preserve="([^"]+)"/))&&(n=decodeURIComponent(t[1])),n||e})))})),t.on("ResolveName",(function(e){var n;"IMG"===e.target.nodeName&&(n=t.dom.getAttrib(e.target,"data-wp-more"))&&(e.name=n)})),t.addCommand("WP_More",(function(n){var o,i,a,s="wp-more-tag",d=t.dom,l=t.selection.getNode(),c=t.getBody();s+=" mce-wp-"+(n=n||"more"),a=r(a="more"===n?"Read more...":"Next page"),i='<img src="'+e.Env.transparentSrc+'" alt="" title="'+a+'" class="'+s+'" data-wp-more="'+n+'" data-mce-resize="false" data-mce-placeholder="1" />',l===c||"P"===l.nodeName&&l.parentNode===c?t.insertContent(i):(o=d.getParent(l,(function(e){return!(!e.parentNode||e.parentNode!==c)}),t.getBody()))&&("P"===o.nodeName?o.appendChild(d.create("p",null,i).firstChild):d.insertAfter(d.create("p",null,i),o),t.nodeChanged())})),t.addCommand("WP_Code",(function(){t.formatter.toggle("code")})),t.addCommand("WP_Page",(function(){t.execCommand("WP_More","nextpage")})),t.addCommand("WP_Help",(function(){var n,o,i,s,d=e.Env.mac?r("Ctrl + Alt + letter:"):r("Shift + Alt + letter:"),l=e.Env.mac?r("\u2318 + letter:"):r("Ctrl + letter:"),c=[],p=[],m={},u={},g=0,h=0,f=t.settings.wp_shortcut_labels;function w(e,t){var n="<tr>",o=0;for(t=t||1,a(e,(function(e,t){n+="<td><kbd>"+t+"</kbd></td><td>"+r(e)+"</td>",o++}));o<t;)n+="<td></td><td></td>",o++;return n+"</tr>"}f&&(a(f,(function(e,t){var n;-1!==e.indexOf("meta")?(g++,(n=e.replace("meta","").toLowerCase())&&(m[n]=t,g%2==0&&(c.push(w(m,2)),m={}))):-1!==e.indexOf("access")&&(h++,(n=e.replace("access","").toLowerCase())&&(u[n]=t,h%2==0&&(p.push(w(u,2)),u={})))})),g%2>0&&c.push(w(m,2)),h%2>0&&p.push(w(u,2)),n="<tr><th>"+(n=[r("Letter"),r("Action"),r("Letter"),r("Action")]).join("</th><th>")+"</th></tr>",o=(o='<div class="wp-editor-help">')+"<h2>"+r("Default shortcuts,")+" "+l+'</h2><table class="wp-help-th-center fixed">'+n+c.join("")+"</table><h2>"+r("Additional shortcuts,")+" "+d+'</h2><table class="wp-help-th-center fixed">'+n+p.join("")+"</table>",t.plugins.wptextpattern&&(!e.Env.ie||e.Env.ie>8)&&(o=(o=o+"<h2>"+r("When starting a new paragraph with one of these formatting shortcuts followed by a space, the formatting will be applied automatically. Press Backspace or Escape to undo.")+'</h2><table class="wp-help-th-center fixed">'+w({"*":"Bullet list","1.":"Numbered list"})+w({"-":"Bullet list","1)":"Numbered list"})+"</table>")+"<h2>"+r("The following formatting shortcuts are replaced when pressing Enter. Press Escape or the Undo button to undo.")+'</h2><table class="wp-help-single">'+w({">":"Blockquote"})+w({"##":"Heading 2"})+w({"###":"Heading 3"})+w({"####":"Heading 4"})+w({"#####":"Heading 5"})+w({"######":"Heading 6"})+w({"---":"Horizontal line"})+"</table>"),o=o+"<h2>"+r("Focus shortcuts:")+'</h2><table class="wp-help-single">'+w({"Alt + F8":"Inline toolbar (when an image, link or preview is selected)"})+w({"Alt + F9":"Editor menu (when enabled)"})+w({"Alt + F10":"Editor toolbar"})+w({"Alt + F11":"Elements path"})+"</table><p>"+r("To move focus to other buttons use Tab or the arrow keys. To return focus to the editor press Escape or use one of the buttons.")+"</p>",o+="</div>",(i=t.windowManager.open({title:t.settings.classic_block_editor?"Classic Block Keyboard Shortcuts":"Keyboard Shortcuts",items:{type:"container",classes:"wp-help",html:o},buttons:{text:"Close",onclick:"close"}})).$el&&(i.$el.find('div[role="application"]').attr("role","document"),(s=i.$el.find(".mce-wp-help"))[0]&&(s.attr("tabindex","0"),s[0].focus(),s.on("keydown",(function(e){e.keyCode>=33&&e.keyCode<=40&&e.stopPropagation()})))))})),t.addCommand("WP_Medialib",(function(){d&&d.media&&d.media.editor&&d.media.editor.open(t.id)})),t.addButton("wp_more",{tooltip:"Insert Read More tag",onclick:function(){t.execCommand("WP_More","more")}}),t.addButton("wp_page",{tooltip:"Page break",onclick:function(){t.execCommand("WP_More","nextpage")}}),t.addButton("wp_help",{tooltip:"Keyboard Shortcuts",cmd:"WP_Help"}),t.addButton("wp_code",{tooltip:"Code",cmd:"WP_Code",stateSelector:"code"}),d&&d.media&&d.media.editor&&(t.addButton("wp_add_media",{tooltip:"Add Media",icon:"dashicon dashicons-admin-media",cmd:"WP_Medialib"}),t.addMenuItem("add_media",{text:"Add Media",icon:"wp-media-library",context:"insert",cmd:"WP_Medialib"})),t.addMenuItem("wp_more",{text:"Insert Read More tag",icon:"wp_more",context:"insert",onclick:function(){t.execCommand("WP_More","more")}}),t.addMenuItem("wp_page",{text:"Page break",icon:"wp_page",context:"insert",onclick:function(){t.execCommand("WP_More","nextpage")}}),t.on("BeforeExecCommand",(function(n){!e.Env.webkit||"InsertUnorderedList"!==n.command&&"InsertOrderedList"!==n.command||(o||(o=t.dom.create("style",{type:"text/css"},"#tinymce,#tinymce span,#tinymce li,#tinymce li>span,#tinymce p,#tinymce p>span{font:medium sans-serif;color:#000;line-height:normal;}")),t.getDoc().head.appendChild(o))})),t.on("ExecCommand",(function(n){e.Env.webkit&&o&&("InsertUnorderedList"===n.command||"InsertOrderedList"===n.command)&&t.dom.remove(o)})),t.on("init",(function(){var n=e.Env,o=["mceContentBody"],i=t.getDoc(),r=t.dom;n.iOS&&r.addClass(i.documentElement,"ios"),"rtl"===t.getParam("directionality")&&(o.push("rtl"),r.setAttrib(i.documentElement,"dir","rtl")),r.setAttrib(i.documentElement,"lang",t.getParam("wp_lang_attr")),n.ie?9===parseInt(n.ie,10)?o.push("ie9"):8===parseInt(n.ie,10)?o.push("ie8"):n.ie<8&&o.push("ie7"):n.webkit&&o.push("webkit"),o.push("wp-editor"),a(o,(function(e){e&&r.addClass(i.body,e)})),t.on("BeforeSetContent",(function(e){e.content&&(e.content=e.content.replace(/<p>\s*<(p|div|ul|ol|dl|table|blockquote|h[1-6]|fieldset|pre)( [^>]*)?>/gi,"<$1$2>").replace(/<\/(p|div|ul|ol|dl|table|blockquote|h[1-6]|fieldset|pre)>\s*<\/p>/gi,"</$1>"))})),s&&s((function(){s(document).triggerHandler("tinymce-editor-init",[t])})),window.tinyMCEPreInit&&window.tinyMCEPreInit.dragDropUpload&&r.bind(i,"dragstart dragend dragover drop",(function(e){s&&s(document).trigger(new s.Event(e))})),t.getParam("wp_paste_filters",!0)&&(t.on("PastePreProcess",(function(t){t.content=t.content.replace(/<br class="?Apple-interchange-newline"?>/gi,""),e.Env.webkit||(t.content=t.content.replace(/(<[^>]+) style="[^"]*"([^>]*>)/gi,"$1$2"),t.content=t.content.replace(/(<[^>]+) data-mce-style=([^>]+>)/gi,"$1 style=$2"))})),t.on("PastePostProcess",(function(n){t.$("p",n.node).each((function(e,t){r.isEmpty(t)&&r.remove(t)})),e.isIE&&t.$("a",n.node).find("font, u").each((function(e,t){r.remove(t,!0)}))})))})),t.on("SaveContent",(function(e){t.inline||!t.isHidden()?(e.content=e.content.replace(/<p>(?:<br ?\/?>|\u00a0|\uFEFF| )*<\/p>/g,"<p>&nbsp;</p>"),e.content=l?d.editor.removep(e.content):e.content.replace(/-->\s*<!-- wp:/g,"--\x3e\n\n\x3c!-- wp:")):e.content=e.element.value})),t.on("preInit",(function(){t.schema.addValidElements("@[id|accesskey|class|dir|lang|style|tabindex|title|contenteditable|draggable|dropzone|hidden|spellcheck|translate],i,b,script[src|async|defer|type|charset|crossorigin|integrity]"),e.Env.iOS&&(t.settings.height=300),a({c:"JustifyCenter",r:"JustifyRight",l:"JustifyLeft",j:"JustifyFull",q:"mceBlockQuote",u:"InsertUnorderedList",o:"InsertOrderedList",m:"WP_Medialib",t:"WP_More",d:"Strikethrough",p:"WP_Page",x:"WP_Code"},(function(e,n){t.shortcuts.add("access+"+n,"",e)})),t.addShortcut("meta+s","",(function(){d&&d.autosave&&d.autosave.server.triggerSave()})),t.settings.classic_block_editor||t.addShortcut("access+z","","WP_Adv"),t.on("keydown",(function(n){return!(e.Env.mac?n.ctrlKey&&n.altKey&&"KeyH"===n.code:n.shiftKey&&n.altKey&&"KeyH"===n.code)||(t.execCommand("WP_Help"),n.stopPropagation(),n.stopImmediatePropagation(),!1)})),window.getUserSetting("editor_plain_text_paste_warning")>1&&(t.settings.paste_plaintext_inform=!1),e.Env.mac&&e.$(t.iframeElement).attr("title",r("Rich Text Area. Press Control-Option-H for help."))})),t.on("PastePlainTextToggle",(function(e){if(!0===e.state){var t=parseInt(window.getUserSetting("editor_plain_text_paste_warning"),10)||0;t<2&&window.setUserSetting("editor_plain_text_paste_warning",++t)}})),t.on("beforerenderui",(function(){t.theme.panel&&(a(["button","colorbutton","splitbutton"],(function(e){!function(e){if(!e)return;a(e,(function(e){var t;e&&e.settings.tooltip&&(t=m(e.settings.tooltip),e.settings.tooltip=t,e._aria&&e._aria.label&&(e._aria.label=t))}))}(t.theme.panel.find(e))})),a(t.theme.panel.find("listbox"),(function(e){e&&"Paragraph"===e.settings.text&&a(e.settings.values,(function(e){e.text&&c.hasOwnProperty(e.text)&&(e.shortcut="("+c[e.text]+")")}))})))})),t.on("preinit",(function(){var n,o,r,s,d,l,c,p=e.ui.Factory,u=t.settings,g=t.getContainer(),h=document.getElementById("wpadminbar"),f=document.getElementById(t.id+"_ifr");function w(e){var o,i;if(n)if(n.tempHide||"hide"===e.type||"blur"===e.type)n.hide(),n=!1;else if(("resizewindow"===e.type||"scrollwindow"===e.type||"resize"===e.type||"scroll"===e.type)&&!n.blockHide){if("resize"===e.type||"resizewindow"===e.type){if(i=(o=t.getWin()).innerHeight+o.innerWidth,c&&(new Date).getTime()-c.timestamp>2e3&&(c=null),!c)return void(c={timestamp:(new Date).getTime(),size:i});if(i&&Math.abs(i-c.size)<2)return}clearTimeout(r),r=setTimeout((function(){n&&"function"==typeof n.show&&(n.scrolling=!1,n.show())}),250),n.scrolling=!0,n.hide()}}g&&(s=e.$(".mce-toolbar-grp",g)[0],d=e.$(".mce-statusbar",g)[0]),"content"===t.id&&(l=document.getElementById("post-status-info")),t.shortcuts.add("alt+119","",(function(){var e;n&&(e=n.find("toolbar")[0])&&e.focus(!0)})),t.on("nodechange",(function(e){var i=t.selection.isCollapsed(),a={element:e.element,parents:e.parents,collapsed:i};t.fire("wptoolbar",a),o=a.selection||a.element,n&&n!==a.toolbar&&n.hide(),a.toolbar?(n=a.toolbar).visible()?n.reposition():n.show():n=!1})),t.on("focus",(function(){n&&n.show()})),t.inline?(t.on("resizewindow",w),document.addEventListener("scroll",w,!0)):(t.dom.bind(t.getWin(),"resize scroll",w),t.on("resizewindow scrollwindow",w)),t.on("remove",(function(){document.removeEventListener("scroll",w,!0),t.off("resizewindow scrollwindow",w),t.dom.unbind(t.getWin(),"resize scroll",w)})),t.on("blur hide",w),t.wp=t.wp||{},t.wp._createToolbar=function(n,r){var c,g,w=[];return a(n,(function(e){var n,o;function i(){var o=t.selection;"bullist"===n&&o.selectorChanged("ul > li",(function(t,n){for(var o,i=n.parents.length;i--&&"OL"!==(o=n.parents[i].nodeName)&&"UL"!=o;);e.active(t&&"UL"===o)})),"numlist"===n&&o.selectorChanged("ol > li",(function(t,n){for(var o,i=n.parents.length;i--&&"OL"!==(o=n.parents[i].nodeName)&&"UL"!==o;);e.active(t&&"OL"===o)})),e.settings.stateSelector&&o.selectorChanged(e.settings.stateSelector,(function(t){e.active(t)}),!0),e.settings.disabledStateSelector&&o.selectorChanged(e.settings.disabledStateSelector,(function(t){e.disabled(t)}))}"|"===e?g=null:p.has(e)?(e={type:e},u.toolbar_items_size&&(e.size=u.toolbar_items_size),w.push(e),g=null):(g||(g={type:"buttongroup",items:[]},w.push(g)),t.buttons[e]&&(n=e,"function"==typeof(e=t.buttons[n])&&(e=e()),e.type=e.type||"button",u.toolbar_items_size&&(e.size=u.toolbar_items_size),(o=e.tooltip||e.title)&&(e.tooltip=m(o)),e=p.create(e),g.items.push(e),t.initialized?i():t.on("init",i)))})),(c=p.create({type:"panel",layout:"stack",classes:"toolbar-grp inline-toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:[{type:"toolbar",layout:"flow",items:w}]})).bottom=r,c.on("show",(function(){this.reposition()})),c.on("keydown",(function(e){27===e.keyCode&&(this.hide(),t.focus())})),t.on("remove",(function(){c.remove()})),c.reposition=function(){if(!o)return this;var t,n,a=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,c=window.innerWidth,p=window.innerHeight,m=f?f.getBoundingClientRect():{top:0,right:c,bottom:p,left:0,width:c,height:p},u=this.getEl(),g=u.offsetWidth,w=u.clientHeight,b=o.getBoundingClientRect(),v=(b.left+b.right)/2,_=w+5,y=h?h.getBoundingClientRect().bottom:0,x=s?s.getBoundingClientRect().bottom:0,P=d?p-d.getBoundingClientRect().top:0,C=l?p-l.getBoundingClientRect().top:0,E=Math.max(0,y,x,m.top),k=Math.max(0,P,C,p-m.bottom),S=b.top+m.top-E,M=p-m.top-b.bottom-k,I=p-E-k,B="",W=0,z=0;return S>=I||M>=I?(this.scrolling=!0,this.hide(),this.scrolling=!1,this):(e.Env.iOS&&"IMG"===o.nodeName&&(W=54,z=46),this.bottom?M>=_?(B=" mce-arrow-up",t=b.bottom+m.top+r-z):S>=_&&(B=" mce-arrow-down",t=b.top+m.top+r-w+W):S>=_?(B=" mce-arrow-down",t=b.top+m.top+r-w+W):M>=_&&I/2>b.bottom+m.top-E&&(B=" mce-arrow-up",t=b.bottom+m.top+r-z),void 0===t&&(t=r+E+5+z),n=v-g/2+m.left+a,b.left<0||b.right>m.width?n=m.left+a+(m.width-g)/2:g>=c?(B+=" mce-arrow-full",n=0):n<0&&b.left+g>c||n+g>c&&b.right-g<0?n=(c-g)/2:n<m.left+a?(B+=" mce-arrow-left",n=b.left+m.left+a):n+g>m.width+m.left+a&&(B+=" mce-arrow-right",n=b.right-g+m.left+a),e.Env.iOS&&"IMG"===o.nodeName&&(B=B.replace(/ ?mce-arrow-(up|down)/g,"")),u.className=u.className.replace(/ ?mce-arrow-[\w]+/g,"")+B,i.setStyles(u,{left:n,top:t}),this)},c.hide().renderTo(document.body),c}}),!0),{_showButtons:u,_hideButtons:u,_setEmbed:u,_getEmbed:u}}))}(window.tinymce);