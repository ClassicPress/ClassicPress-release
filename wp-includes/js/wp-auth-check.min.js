!function(e){var a,o,t;function n(){var o=window.adminpage,t=window.wp;e(window).off("beforeunload.wp-auth-check"),("post-php"===o||"post-new-php"===o)&&t&&t.heartbeat&&t.heartbeat.connectNow(),a.fadeOut(200,(function(){a.addClass("hidden").css("display",""),e("#wp-auth-check-frame").remove(),e("body").removeClass("modal-open")}))}e((function(){(a=e("#wp-auth-check-wrap")).find(".wp-auth-check-close").on("click",(function(){n(),o=!0,window.clearTimeout(t),t=window.setTimeout((function(){o=!1}),3e5)}))})).on("heartbeat-tick.wp-auth-check",(function(t,c){var s,i,h,d,r;"wp-auth-check"in c&&(c["wp-auth-check"]||!a.hasClass("hidden")||o?c["wp-auth-check"]&&!a.hasClass("hidden")&&n():(i=e("#wp-auth-check"),h=e("#wp-auth-check-form"),d=a.find(".wp-auth-fallback-expired"),r=!1,h.length&&(e(window).on("beforeunload.wp-auth-check",(function(e){e.originalEvent.returnValue=window.wp.i18n.__("Your session has expired. You can log in again from this page or go to the login page.")})),(s=e('<iframe id="wp-auth-check-frame" frameborder="0">').attr("title",d.text())).on("load",(function(){var o,t;r=!0,h.removeClass("loading");try{o=(t=e(this).contents().find("body")).height()}catch(c){return a.addClass("fallback"),i.css("max-height",""),h.remove(),void d.focus()}o?t&&t.hasClass("interim-login-success")?n():i.css("max-height",o+40+"px"):t&&t.length||(a.addClass("fallback"),i.css("max-height",""),h.remove(),d.focus())})).attr("src",h.data("src")),h.append(s)),e("body").addClass("modal-open"),a.removeClass("hidden"),s?(s.focus(),setTimeout((function(){r||(a.addClass("fallback"),h.remove(),d.focus())}),1e4)):d.focus()))}))}(jQuery);